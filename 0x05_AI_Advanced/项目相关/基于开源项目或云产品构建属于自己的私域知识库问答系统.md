目前市面上通用大模型已经很多而且也比较成熟，但是相较于通用大模型而言很多企业或者个人都需要建立私域数据知识库问答业务。而目前如果想要搭建私域知识问答业务通常有两种方式。<br />一种是用私域数据在开源模型上进行训练微调；一种是结合向量检索，将专业领域知识和原始提问转化为向量，再使用通用大语言模型进行回答。<br />这两种方式各有利弊，基于开源模型训练微调存在成本高，包括机器成本和人力成本，另外时效性也较差，但是数据安全性更高；而第二种基于向量检索的形式，工程上需要做的工作比较多，需要文档切片，向量存储，向量检索等技术，同时需要跟通用大模型进行交互，所以会有一些数据安全风险以及一些 Token 额度的消耗。<br />目前业界使用的方式较多的是第二种，下面是大概的整体流程。<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419809516-4ac95610-c86d-4263-bf01-60293a8c6ab5.png#averageHue=%23faf9f7&clientId=ue5330717-2ce1-4&from=paste&id=u67c4cf5f&originHeight=915&originWidth=1080&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=uf4f3b982-864c-4890-a787-af4fc26f4c3&title=)<br />这个流程中向量化的过程以及问答的时候都会涉及到跟大模型进行交互，而消耗的 token 跟上下文的内容的大小都有关系。<br />随着行业的发展，目前第二种方案形成了很多框架，其中很著名的就是 LangChain，更有很多开源项目基于 LangChain 做了封装和开发。如果自己想实现方案将二的话，也完全可以使用 LangChain 来实现上述的整个流程。<br />同时方案二也形成了很多行业解决方案，包括云上产品以及一些开源项目，这里给大家介绍两个，一个是开源项目 DialoqBase，一个是阿里云的 Lindorm 多模态数据库。
<a name="ZZOSF"></a>
## DialoqBase
项目地址：[https://github.com/n4ze3m/dialoqbase](https://github.com/n4ze3m/dialoqbase)<br />Dialoqbase 是一个开源应用程序，旨在通过使用个性化知识库来促进定制聊天机器人的创建。该应用程序利用先进的语言模型生成准确和上下文感知的回复。此外，它利用 PostgreSQL，一个强大的关系数据库管理系统，用于高效的向量搜索操作和存储知识库。<br />搭建完成过后，通过地址 http://127.0.0.1:3000/#/ 可以创建问答机器人。<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419809572-1cf4ac86-9f05-41d2-be64-0b3a91f1eff2.png#averageHue=%238cd2aa&clientId=ue5330717-2ce1-4&from=paste&id=u0f08f227&originHeight=324&originWidth=1080&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=u38a17743-72e5-4aef-ba79-e5e63523a4b&title=)<br />点击 create new bot<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419809565-863d9c49-c3a3-46c6-816f-77a81c2736df.png#averageHue=%23fdfefd&clientId=ue5330717-2ce1-4&from=paste&id=ua55947d2&originHeight=866&originWidth=1080&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=u588c9230-6422-490c-a2f8-cc70e0762f0&title=)<br />创建的时候可以选择数据源，这里的数据源就是私域知识库，知识库的类型有很多中，可以是一个网页，可以是一段文本，也可以是一个文件，或者是爬虫等。<br />需要注意的是这里的 DataSource 数据源在创建的时候不是必选的，可以在后面再进行添加，而且数据源内容的多少决定了 Embedding 的时间长短，以及对应 Embedding 模型 Token 的消耗多少。<br />接下来再选择一个需要进行交互的 Chat Model，目前支持 OpenAI 和 Claude 的模型。<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419809562-d562a91c-5f15-4a7e-af85-d51424046477.png#averageHue=%23f6f6f6&clientId=ue5330717-2ce1-4&from=paste&id=u743a459b&originHeight=714&originWidth=1080&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=ub2190404-0d0b-4445-82bb-153a71c9465&title=)<br />接下来再选择 Embedding 模型，目前支持的有下面这些。注意对于创建的一个 Bot 来说，Embedding 模型一旦选择过后是不能进行修改的，Chat Mode 后续是可以修改的。<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419809543-efed1f2b-a202-4487-a757-56fa213f043d.png#averageHue=%23e8e8f5&clientId=ue5330717-2ce1-4&from=paste&id=u3e73a754&originHeight=587&originWidth=1080&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=udc9ed62c-c4b6-4bb1-92e6-85cf00f8d52&title=)<br />创建完成过后会进入到 Playground 模块，如果前面增加了 DataSource 的话，这里就可以直接进行问答了，如果没有增加 DataSource 的话，可以在左侧的 DataSource 模块进行添加，支持添加多个。<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419809886-a0dc4425-9357-4bfc-a2f1-7a9dede99471.png#averageHue=%23d8e9e1&clientId=ue5330717-2ce1-4&from=paste&id=ua943c5df&originHeight=374&originWidth=1080&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=u5dc9d386-badc-47f2-b55e-e4cd851bd6b&title=)<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419810195-eda1c513-eb75-4845-8ad7-0133dda8c80d.png#averageHue=%23c5ded3&clientId=ue5330717-2ce1-4&from=paste&id=u54addf53&originHeight=420&originWidth=1080&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=ud39dbd7a-53d7-4369-af18-19c588685ba&title=)<br />下面是将文章作为数据源添加过后，进行的测试，效果还是可以是。<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419810219-d575e92e-a078-48cb-a146-f01344df38b7.png#averageHue=%23c0e2d2&clientId=ue5330717-2ce1-4&from=paste&id=u5cd34770&originHeight=807&originWidth=1080&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=u02183d3e-8953-46e9-920f-d204f78018a&title=)<br />1.0 版本的 DialoqBase 支持多人注册创建 Bot 进行问答。<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419810281-08fd442c-a10e-42a3-babe-5019ca25ab98.png#averageHue=%23aee4bf&clientId=ue5330717-2ce1-4&from=paste&id=ub4fe3db3&originHeight=500&originWidth=1080&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=ud4fe3172-3924-4c6c-ae6f-4e0c2def782&title=)<br />DialoqBase 目前支持集成到一些社交软件当中，不过目前都还只支持国外的软件，这里就不介绍了，后续不知道会不会考虑接入国内的社交软件。<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419810374-f2cb075f-2d09-4999-88ba-7109219dc978.png#averageHue=%2388d496&clientId=ue5330717-2ce1-4&from=paste&id=u8f180e2d&originHeight=459&originWidth=1080&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=ucb752e7a-1761-4bbb-80fe-9efc5bd3c2d&title=)
<a name="ZJH5z"></a>
## Lindorm
Lindorm 是阿里云的一款多模数据库产品，针对私有知识库问题，云原生多模数据库 Lindorm 推出一站式私域数据知识问答 AIGC 解决方案，结合 Lindorm AI 引擎和内置的向量检索能力，实现仅通过一条 SQL 语句就能简单构建知识问答业务的功能，简化应用开发的工作。<br />简单来说就是 Lindorm 将文档切片，向量化，向量检索等操作全部封装到底层，用户只需要像操作数据库一样进行数据的插入和通过 SQL 语句来进行知识问答。<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419810317-8e8bf784-5c8d-482c-b5f4-6f51168b70ee.png#averageHue=%23f8e7de&clientId=ue5330717-2ce1-4&from=paste&id=u7542e4d3&originHeight=785&originWidth=1080&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=uff4fc61b-4fb8-4f98-bc58-7b8781884fe&title=)<br />![](https://cdn.nlark.com/yuque/0/2023/png/396745/1697419810710-83f271c7-d9ac-4116-95ef-b82b3a83f3da.png#averageHue=%23f8e7de&clientId=ue5330717-2ce1-4&from=paste&id=u44456483&originHeight=790&originWidth=892&originalType=url&ratio=2.5&rotation=0&showTitle=false&status=done&style=none&taskId=u0103d77c-d1bb-4dba-8a85-6f3612fb340&title=)<br />云产品的初衷就是将复杂留给自己，将方便留给用户，只不过你要花钱；同时 Lindorm 支持私有模型的部署，这一点相对于公共模型会好点。<br />目前阿里云上面 Lindorm 体验版是 60 一个月，感兴趣的可以去体验一下。
