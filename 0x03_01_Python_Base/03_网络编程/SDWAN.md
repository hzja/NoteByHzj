# SDWAN

## 什么是SDWAN?

SD-WAN，即软件定义广域网络，是将SDN技术应用到广域网场景中所形成的一种服务。这种服务用于连接广阔地理范围的企业网络、数据中心、互联网应用及云服务，旨在帮助用户降低广域网的开支和提高网络连接灵活性。存在于多协议标签交换(MPLS)中



## 什么是MPLS?

字面上就是通过标签来交换数源据，MPLS的操作类似于交换机和路由器，位于第2层和第3层之间(MPLS有时被认为是第2.5层)，数据的处理在IP层之前，也就是说，查看到数据包的IP地址位之前就能看到标签，然后根据标签转发表转发数据，简单点说标签转发表是通过路由表生成的，更直接的转发数据不需要最长匹配原则，直接使用匹配结果，解决现在路由查表太慢了的问题。



## 解决了什么问题？

当前企业网的两个基本组成部分：一是路由器、交换机、VPN 网关等网络设备；二是 MPLS/MSTP 等企业级线路资源。线路资源虽然是以租用为主，但本质上也是一种产品：满足一定 SLA（Service Level Agreement，由延迟、丢包率、抖动、带宽等定义）的传输产品，并不保证企业IT应用能得到满意的效果，比如 MPLS 线路就只需要满足承诺的 SLA，如果应用访问质量仍差强人意，那是用户“自己的事”。

分开来看，SD-WAN 运营网络正是对企业级线路资源的一种取代；SD-WAN CPE 则是对各种企业网络设备的一种取代。但 SD-WAN 提供给企业的不再是分开的产品组件，而是一项服务和承诺：彻底满足企业对IT网络最关键的两大需求。

### 1．企业内网互联及 SaaS 访问加速需求

比如：中国总部、亚太区域总部、北美区域总部、及拉美区域总部通过 Full-Mesh 拓扑全部互联起来

采纳 MPLS/MSTP 等专线解决方案，企业 IT 需要综合考虑专线、路由设备、广域网优化、网络安全、IPVPN 网关、甚至自建应用网关或缓存服务器来满足这一需求。做好这一工作对于企业总部IT部门，是一项颇为艰巨的工程。而其中涉及的产品供应商只需对其产品定义的功能负责，只要证明满足了功能，企业是否通过集成工程达到了满意的内网互联及外部应用访问效果不是他们的责任。也就是说，项目风险完全由企业承担。

### 2．企业高质量应用访问需求

用户可以通过购买不同SLA星级线路享受不同程度优化急速，因为不同应用对传输质量的多样化需求让这一任务变得非常复杂耗时，相关专线及产品采购的失误还可能导致预算的失控。最后企业还可能不得不降低对质量的诉求，容忍一些应用访问体验不佳的问题存在

如果企业采纳 SD-WAN 服务，则完全可以“苛刻”的追求所有应用的访问质量，而且除本地宽带接入（也可以使用诸如 4G/5G 之类的无线接入）外，不再需要采购任何专线和网络设备。合格的 SD-WAN 服务商必须能够满足企业应用对传输质量多样化的要求，同时提供给企业简单易用的管理监控操作界面



## SD-WAN的基本功能

- **统一管理与监控**：SD-WAN整合了路由器、防火墙、DPI检测、广域网加速等功能，确保企业真正意义上实现对应用的管理与监控。
- **安全性**：可通过使用IPSec或TLS/DTLS加密来保护传输中的数据，确保数据安全。
- **智能路径控制**：当一条链路发生故障，中央控制台会自动切换链路，保证应用程序依然能够继续工作，同时发送报告。



## MPLS优点和缺点

MPLS最重要的一个方面是：数据包的可靠传输，在避免数据包丢失和保持业务最重要的流量流量方面，MPLS可提供卓越的服务质量。

由于上述标签实际上隔离了数据包，保障了MPLS的可靠性，MPLS提供商还可以为某些网络流量分配更高的优先级，带来了网络内的流量可预测性，网络路径可以预先确定，因此数据包仅沿着它们所指向的路径行进。

缺点是带宽成本，如今用户越来越关注带宽占用的多媒体内容，如视频和增强现实(AR)/虚拟现实(VR)，以及MPLS要求的高每兆位成本是具有挑战性的。最后，MPLS 网络不提供内置数据保护，如果实施不当，导致网络开放漏洞。



## SD-WAN的优点和缺点

1. SD-WAN的核心价值是它对整个企业网络生态系统的影响。借助SD-WAN，可以删除地理边界，并增强可见性，可扩展性，性能和控制等关键优势。
2. 与MPLS不同，SD-WAN没有带宽损失，客户可以通过添加新链接轻松升级，无需对基础架构或网络进行任何更改，SD-WAN的最大卖点是能够根据内容类型或优先级经济高效地混合和匹配网络链接，互联网宽带和4G LTE都比MPLS便宜，因此客户可以为某些类型的低优先级流量选择这些链路而不是昂贵的MPLS网络。
3. SD-WAN的主要优点是安全性，SD-WAN通过统一安全连接来覆盖这些基础，在SD-WAN架构中，公司可以在整个网络(包括Internet)中受益于端到端加密，借助可扩展的密钥交换功能和软件定义的安全性，所有设备和端点均经过完全认证。



## SD-WAN与MPLS的区分

- MPLS是一种标签转发技术，MPLS的操作类似于交换机和路由器，位于第2层和第3层之间(MPLS有时被认为是第2.5层)，它使用数据包转发技术和标签来做出数据转发决策，标签被施加在第2层(数据链路)和第3层(网络)标头之间。因为比IP转发更高效，所以目前运营商的网络基本都是MPLS转发。
- SDN是一种网络架构，目的是集中控制，分布转发。简单说就是以后路由全部由SDN控制器计算，路由器只负责转发。可以达到全局路由最优。