时序<br />![2021-08-03-08-03-14-020834.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1627949001737-d2b789c6-4b22-4763-bb3f-6123c3e50165.png#clientId=u53d92afd-6a11-4&from=ui&id=u32b45b8e&originHeight=288&originWidth=432&originalType=binary&ratio=1&size=29365&status=done&style=shadow&taskId=u1a1293aa-b682-4982-a78a-f2a0654df25)
<a name="CZUAr"></a>
## tsod介绍
tsod可以完成时序数据的异常检测，是一个比较新的库，但使用起来非常方便。<br />[https://github.com/DHI/tsod](https://github.com/DHI/tsod)<br />[https://github.com/DHI/tsod/blob/main/notebooks/Getting%20started.ipynb](https://github.com/DHI/tsod/blob/main/notebooks/Getting%20started.ipynb)
<a name="tfG5z"></a>
## 区间异常检测
如果能提前确定好指标的范围，则可以依次进行判定异常。
```python
# 最小值与最大值
rd = tsod.RangeDetector(min_value=0.01, max_value=2.0)
res = rd.detect(series)
series[res]
```
将识别结果进行展示：<br />![2021-08-03-08-03-14-308832.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1627949017677-37116548-6cf9-487d-88ae-eff543db52d9.png#clientId=u53d92afd-6a11-4&from=ui&id=u3e652f82&originHeight=662&originWidth=1008&originalType=binary&ratio=1&size=53486&status=done&style=shadow&taskId=ub46e9712-79e3-42fb-b310-534e7410254)
<a name="uNhgV"></a>
## 常数波动检测
```python
cd = tsod.ConstantValueDetector()
res = cd.detect(series)
series[res]
```
将识别结果进行展示：<br />![2021-08-03-08-03-14-599830.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1627949026300-e40af482-dffc-4ec2-b376-7f76df28702d.png#clientId=u53d92afd-6a11-4&from=ui&id=u86b542f4&originHeight=686&originWidth=1038&originalType=binary&ratio=1&size=53496&status=done&style=shadow&taskId=u7b95a4ab-e523-401c-9be5-50d1be6d615)
<a name="inYEJ"></a>
## 范围+常数组合检测
```python
combined = tsod.CombinedDetector([tsod.RangeDetector(max_value=2.0),
                                     tsod.ConstantValueDetector()])
res = combined.detect(series)
series[res]
```
将识别结果进行展示：<br />![2021-08-03-08-03-14-734836.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1627949035718-6bedd1e5-be7d-4aac-b9b4-bce9bc19882d.png#clientId=u53d92afd-6a11-4&from=ui&id=u5b12ca80&originHeight=692&originWidth=1038&originalType=binary&ratio=1&size=54114&status=done&style=shadow&taskId=u665ac3c9-0ed9-4399-b609-887ba693786)
<a name="ssSkL"></a>
## 梯度固定检测
```python
cgd = tsod.ConstantGradientDetector()
res = cgd.detect(series)
```
将识别结果进行展示：<br />![2021-08-03-08-03-14-878832.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1627949045738-47b87203-2dff-4bf5-9493-b446c1976e78.png#clientId=u53d92afd-6a11-4&from=ui&id=u09ebb821&originHeight=458&originWidth=1080&originalType=binary&ratio=1&size=78309&status=done&style=shadow&taskId=ue878b3a3-c067-4c01-ab69-6aca938fda0)
<a name="GSmXx"></a>
## 滚动聚合加方差检测
```python
rsd = tsod.RollingStandardDeviationDetector(window_size=10, center=True)
rsd.fit(normal_data)
```
将识别结果进行展示：<br />![2021-08-03-08-03-15-085836.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1627949053958-a7b216a6-45ca-49a4-8728-fb3b00a478fd.png#clientId=u53d92afd-6a11-4&from=ui&id=ue42fdfb9&originHeight=555&originWidth=1080&originalType=binary&ratio=1&size=91434&status=done&style=shadow&taskId=uf409b79a-945d-4ef7-ad7a-e6f12a9e894)
<a name="kYsR1"></a>
## 一阶差分检测
```python
drd = tsod.DiffDetector()
drd.fit(normal_data)
```
将识别结果进行展示：<br />![2021-08-03-08-03-15-325839.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1627949062301-5750e874-0771-4f1b-bc24-1989fe661b8a.png#clientId=u53d92afd-6a11-4&from=ui&id=uc3d2ced4&originHeight=644&originWidth=954&originalType=binary&ratio=1&size=38814&status=done&style=shadow&taskId=u062ec05c-67f2-42a9-a944-1123d5896d1)
