IDEA<br />2021.3版本增加了云端开发的一系列功能。<br />所谓云端开发，就是指本地运行着一个轻客户端。所有的代码存储，代码编译，代码运行都是在远端。本地只是作一个展示和编辑作用。<br />而这个EAP版本，就直接明示了以后IDEA既能作为本地IDE，又能作为轻客户端连上云端，利用云端强大的处理力，加速代码编译，启动速度。<br />而这个云端，随便指定一台服务器，就可以自动化初始化好，极其方便。
<a name="sqPLf"></a>
## 一
安装好2021.3 EAP版本后，在欢迎界面就多出一个Remote Development选项：<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979385835-38a78f52-987c-4f35-8f2c-22e290c4a478.webp#clientId=u946e69a8-16ea-4&from=paste&id=ua344df4d&originHeight=895&originWidth=1080&originalType=url&ratio=1&status=done&style=none&taskId=ueccbac5f-a03b-4c76-b474-d2cef0afbef)<br />点Connect via SSH，就可以看到只要通过SSH方式就可以连上一个远端服务器作为计算资源。和所有的SSH一样，填入相应必要的验证方式，这里是采用RSA私钥的验证方式：<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979385824-04a65c11-f96f-41ed-aeb1-099c97f40a24.webp#clientId=u946e69a8-16ea-4&from=paste&id=u86c65a94&originHeight=895&originWidth=1080&originalType=url&ratio=1&status=done&style=none&taskId=udd57e8e0-177f-4ccd-ae56-a79639cc004)<br />点击Check Connection and Continue之后，后续所有的动作，都由IDEA自动完成。包括在服务器上装上远端的服务进程，初始化等事情。这个过程只能等一会。<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979385830-c6eb8e91-4c63-43a4-8b23-d1dab0398dbf.webp#clientId=u946e69a8-16ea-4&from=paste&id=uff1a1f8b&originHeight=889&originWidth=1080&originalType=url&ratio=1&status=done&style=none&taskId=uf3dca94f-8f2e-4a64-a05b-d0ecd55bda7)<br />这个过程大概等了5分钟左右。看到成功连接上远程服务器之后，点开Project directory就可以看到服务器上的文件目录了，选择一个作为工作目录。<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979385823-e480b5c4-1087-48d0-9199-163b4820e8c9.webp#clientId=u946e69a8-16ea-4&from=paste&id=u7ad0740b&originHeight=891&originWidth=1080&originalType=url&ratio=1&status=done&style=none&taskId=u1589cba0-0e1a-4f0e-87ee-8c60ce3cb99)<br />这时应该服务器上的远端进行已经开启了，登上了服务器，查找了下idea的进程，可以发现远端服务器上启动着4个进程。<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979385849-f43bbece-18f3-4f73-a827-549f9a59a485.webp#clientId=u946e69a8-16ea-4&from=paste&id=ub8f99db4&originHeight=212&originWidth=1080&originalType=url&ratio=1&status=done&style=none&taskId=u84b6164e-0d3d-4bba-849d-98ad5e49606)
<a name="vvDWK"></a>
## 二
连上上之后进入主界面，基本和本地的没有任何区别。只是在右下角多了一个即时的上行和下行的速度指标。和一个ping值。ping值是一个什么概念。ping值越低，就代表延时越低。下图可以看到，本地和服务器的延迟是22ms，这个ping值基本上是感受不到延迟的。<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979386126-54183535-089c-4164-a33d-a2f46f07df06.webp#clientId=u946e69a8-16ea-4&from=paste&id=ub2cb67d3&originHeight=611&originWidth=1080&originalType=url&ratio=1&status=done&style=none&taskId=ub85a3665-78b2-4b1e-9b38-ed1d16a3538)<br />接下来就感受下远端编译。<br />创建了一个springboot的web项目，当然创建的代码全部在远端上面，本地只不过作为编辑界面。<br />运行`mvn clean package`命令，要注意的是此时并不是在本地执行maven命令，已经是在远端了，前提是远端服务器已经装了maven，并配置好了系统path。<br />整个过程和本地并无太大差别，运行结果耗时如下，这还是包括从中央仓库上下载springboot相关依赖+编译打包的时间。甚至于觉得比本地要来的快速。<br />顺便说下，这里测试时，远端服务器的配置是8核64G内存。<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979386142-4972740f-02c9-42f2-8bf9-927ea2e12a0e.webp#clientId=u946e69a8-16ea-4&from=paste&id=uce741d81&originHeight=640&originWidth=1080&originalType=url&ratio=1&status=done&style=none&taskId=uda2d1dbb-e44d-460a-a359-53aea626e7a)<br />接下来在demo工程上加了一个controller。直接运行这个项目。<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979386171-bce69a8b-8aae-4da6-83c7-c76fd21e9a6d.webp#clientId=u946e69a8-16ea-4&from=paste&id=ua370118b&originHeight=698&originWidth=1080&originalType=url&ratio=1&status=done&style=none&taskId=ue252ba54-5750-4972-ba4c-611018e0c8d)<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979386226-cfcf48f7-2081-44cc-85c4-b59b63146ed5.webp#clientId=u946e69a8-16ea-4&from=paste&id=ud0ca84ee&originHeight=282&originWidth=1080&originalType=url&ratio=1&status=done&style=none&taskId=u145b8f28-012d-4120-931d-515babd4166)<br />运行很快速。配置的端口号在8989。<br />如果往常要访问controller的话，就一定会访问 127.0.0.1:8989 了，但是这个运行也是在远端运行的。<br />查看远端的进程和端口号，确实服务器上开启了一个线程，端口号是8989<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979386244-e50249e1-c4f8-482b-af38-de5873b33bb7.webp#clientId=u946e69a8-16ea-4&from=paste&id=u6054874f&originHeight=238&originWidth=1080&originalType=url&ratio=1&status=done&style=none&taskId=ubcc7e640-5d3a-40da-83ed-d9bff0c1db0)<br />接下来用服务器的公网地址进行访问，也是毫无问题。<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979386547-ccffa9a0-0e69-4017-9dd1-4afaed0b1a7f.webp#clientId=u946e69a8-16ea-4&from=paste&id=ua182c23a&originHeight=215&originWidth=1080&originalType=url&ratio=1&status=done&style=shadow&taskId=ua618ab17-a87c-4ac0-ac4d-f06bdac6c62)<br />甚至于debug也和本地的一模一样，毫无违和感<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1636979386602-c4405c0a-0ba9-426f-860b-85bedb8c9616.webp#clientId=u946e69a8-16ea-4&from=paste&id=u6f4e18e2&originHeight=864&originWidth=1080&originalType=url&ratio=1&status=done&style=none&taskId=uaded1b8e-9d8e-48c6-83c5-00918321efc)<br />这基本上都可以不用在测试环境上部署了，本地直接起，相当于部署测试服务器了。用的还不是本地资源。<br />别的服务调用过来，本地直接可以debug了。还不用开remote debug。<br />测试环境部署流程还是需要的。这里只是为了说明，这种如同本地模式的debug的确比基于配置`-Xrunjdwp`的remote debug好了不止一点点。
<a name="fJnZA"></a>
## 总结
整个体验下来，可以这么说，操作模式完全和本地一模一样，但是计算和存储资源却是在远端。而且在体验的过程中，基本上没有感觉到卡顿的地方，如同本地般的丝滑流畅。<br />如果本地配置不高的，平时开几个IDEA窗口就开始卡的，完全就可以拿公司高性能的服务器作为远端。利用服务器的高性能作为计算资源。本地开个十几个轻客户端应该也不会有卡顿。不用换电脑，立马解决idea卡顿问题的神操作了。<br />因为这个版本只是一个EAP版本，官方文档也说了，可能在使用时中会有不稳定的异常出现。所以2021.3的正式版本，还是很期待的。
