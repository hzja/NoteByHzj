Java 日志
<a name="LMgvS"></a>
## 日志logback格式解析
logback官网 格式解析 [https://logback.qos.ch/manual/layouts.html#ClassicPatternLayout](https://logback.qos.ch/manual/layouts.html#ClassicPatternLayout)<br />官网格式解析有所有完整的说明。<br />file日志文件中记录下来有用的，也拿出来记录下来。<br />一个平常打印的一条拼接格式如下：<br />`%black()`等都是颜色部分，日志颜色使用请看 [http://www.cnblogs.com/sxdcgaq8080/p/7885340.html](http://www.cnblogs.com/sxdcgaq8080/p/7885340.html)
```java
<pattern>%black(控制台-) %red(%d{yyyy-MM-dd HH:mm:ss}) %green([%thread]) %highlight(%-5level) %boldMagenta(%logger) - %cyan(%msg%n)</pattern>
```
<a name="jD7ZO"></a>
### 1.`%logger`【日志名字 一般采用日志所在类名或者包名做日志名】
`%logger = %lo = %c【三种都表示日志名字】`<br />官网这部分可以看到<br />![2021-08-21-10-11-29-499347.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629511928266-09978ef3-5a36-4fc5-953b-4d3762d8ed1a.png#clientId=u637c3a12-0e47-4&from=ui&id=u7c0a00b6&originHeight=285&originWidth=717&originalType=binary&ratio=1&size=37131&status=done&style=shadow&taskId=u3d361564-bbd1-49ce-9491-94e4333a0e6)<br />本地试着把`%logger{10}`给成10，效果是这样<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1629511684197-bec95bad-f719-4856-9d11-ac269bcd639e.webp#clientId=u637c3a12-0e47-4&from=paste&id=ufd3db868&originHeight=90&originWidth=492&originalType=url&ratio=1&status=done&style=none&taskId=u7933983b-fbe0-4c28-bac0-c92bddb61df)<br />使用说明：<br />`%logger`默认不给长度，显示所有。<br />日志名字  最右边的名字永远不会被缩写，不管给的长度是不是小于最右边的长度。<br />其他部分，最少被缩短到一个字符，但不会被完全删除。
<a name="qdQMc"></a>
### 2.`%C`类名
%C = %class【等价】<br />![2021-08-21-10-11-29-679343.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629511961586-a6e8cd4c-32cc-4819-b10e-25597433c9c3.png#clientId=u637c3a12-0e47-4&from=ui&id=uf85772bd&originHeight=77&originWidth=193&originalType=binary&ratio=1&size=2658&status=done&style=none&taskId=u297f7088-3e52-4a54-bfc5-36a8b25a477)<br />![2021-08-21-10-11-29-776311.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629511961597-f8e37cc7-eb01-49be-b0e3-cb2166c87dad.png#clientId=u637c3a12-0e47-4&from=ui&id=u45bc90c5&originHeight=61&originWidth=459&originalType=binary&ratio=1&size=2421&status=done&style=none&taskId=ud8fcc8db-9bae-4aca-812c-2c80deb7922)<br />使用说明：<br />打印出类名信息，不被推荐使用。除非执行速度不是问题。
<a name="gT1vM"></a>
### 3.`%d`【时间】
%d = %data【等价】<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1629511684217-9d67ec52-269b-43cd-9246-64092180526d.webp#clientId=u637c3a12-0e47-4&from=paste&id=u0362affd&originHeight=211&originWidth=568&originalType=url&ratio=1&status=done&style=none&taskId=ua7dfccbd-33f0-43b8-adcd-75b3af166a5)<br />使用说明：<br />![2021-08-21-10-11-29-970346.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629511992095-e0544b28-3757-4a9f-bcb8-1118606bebb8.png#clientId=u637c3a12-0e47-4&from=ui&id=uee804e7d&originHeight=65&originWidth=278&originalType=binary&ratio=1&size=2170&status=done&style=none&taskId=u9ca00c6e-7243-460c-9469-4b856ecc21b)<br />![2021-08-21-10-11-30-053309.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629511992126-ac7828a9-cbe7-4caa-a4ce-01f59283a20e.png#clientId=u637c3a12-0e47-4&from=ui&id=ue54d9d1d&originHeight=108&originWidth=370&originalType=binary&ratio=1&size=3791&status=done&style=none&taskId=ude9189cc-8f98-4926-a60f-c08b0cc656b)
<a name="iorsG"></a>
### 4.`%F`【文件名   发出日志请求的java源文件名字】
%F = %file 【等价】<br />![2021-08-21-10-11-30-139309.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629512009484-389d7079-6ad2-4ceb-831b-4d08fb0019ce.png#clientId=u637c3a12-0e47-4&from=ui&id=ub6a4dc4a&originHeight=40&originWidth=222&originalType=binary&ratio=1&size=2230&status=done&style=none&taskId=u19875f60-b27b-4882-9195-302121aa3b8)<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1629511685048-b44c228d-3116-4f99-bc99-0376f1da8b5d.webp#clientId=u637c3a12-0e47-4&from=paste&id=ufac872a2&originHeight=86&originWidth=392&originalType=url&ratio=1&status=done&style=none&taskId=uf649f8ef-6928-4356-b48c-313e686cb21)<br />使用说明：<br />和打印出类名信息一样，不被推荐使用。除非执行速度不是问题。
<a name="yugDw"></a>
### 5.`%L` 【日志请求的行号】
%L = %line 【等价】<br />![2021-08-21-10-11-30-306311.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629512029218-22c2c2f1-f35d-48e8-bd1b-d7614bf98ce8.png#clientId=u637c3a12-0e47-4&from=ui&id=ucef109f6&originHeight=69&originWidth=178&originalType=binary&ratio=1&size=2750&status=done&style=none&taskId=uec5174d8-2386-4986-afd6-da12e0318f8)<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1629511685263-e3ec1e09-1d15-4a81-b04f-240319e745d0.webp#clientId=u637c3a12-0e47-4&from=paste&id=ub7fc7b5f&originHeight=64&originWidth=198&originalType=url&ratio=1&status=done&style=none&taskId=uf1007ed0-4eb5-4de7-9d64-3843e615b99)<br />使用说明：<br />和打印出类名信息一样，不被推荐使用。除非执行速度不是问题。
<a name="nCtV6"></a>
### 6.`%m`【日志正文信息】
%m = %msg = %message<br />![2021-08-21-10-11-30-500312.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629512045803-f630a5c3-adbf-4513-b7fa-a086b1ec9037.png#clientId=u637c3a12-0e47-4&from=ui&id=uafe63b38&originHeight=106&originWidth=248&originalType=binary&ratio=1&size=1649&status=done&style=none&taskId=u3520daf8-de5d-4a0b-9b60-27375044425)![2021-08-21-10-11-30-603311.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629512045794-cb09b5aa-c883-485b-a538-85b75e8611fe.png#clientId=u637c3a12-0e47-4&from=ui&id=uffcd03e1&originHeight=190&originWidth=929&originalType=binary&ratio=1&size=11389&status=done&style=none&taskId=u705ce698-9fc1-4d75-8747-53c6a68ab0c)
<a name="zeuIa"></a>
### 7.`%M`【方法名  日志请求发出的方法的方法名】
%M = %method<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1629511685802-31862775-e08f-44b2-8b01-f36dbefe9b4a.webp#clientId=u637c3a12-0e47-4&from=paste&id=u98ca1672&originHeight=79&originWidth=251&originalType=url&ratio=1&status=done&style=none&taskId=udc05a4bc-c8d5-4d0f-a9e8-c6edc313c51)<br />![](https://cdn.nlark.com/yuque/0/2021/png/396745/1629511685695-2cc08511-3b30-425b-b3d6-315e341278ff.png#clientId=u637c3a12-0e47-4&from=paste&id=ud8bad979&originHeight=100&originWidth=343&originalType=url&ratio=1&status=done&style=none&taskId=u65c1decc-4b34-4080-b27a-5a5b7848d33)<br />使用说明：<br />和打印出类名信息一样，不被推荐使用。除非执行速度不是问题。
<a name="LcuVM"></a>
### 8.`%n`【换行符】
![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1629511685946-10e1c43b-9273-4429-b3b9-75a3fcce4dff.webp#clientId=u637c3a12-0e47-4&from=paste&id=ufd4544ba&originHeight=77&originWidth=214&originalType=url&ratio=1&status=done&style=none&taskId=ua234cd32-09a0-4b35-956b-28fcdd727e2)<br />使用说明：<br />%n换行的效果和\n或者\r\n效果一样 在日志中起到换行的效果。

<a name="qIebd"></a>
### 9.`%level`【日志级别】
%p = %le = %level【等价】<br />![](https://cdn.nlark.com/yuque/0/2021/webp/396745/1629511686178-ac717b0d-2850-4d58-ad1b-c18a227fab7c.webp#clientId=u637c3a12-0e47-4&from=paste&id=u3f90236d&originHeight=140&originWidth=140&originalType=url&ratio=1&status=done&style=none&taskId=u3a4902d2-23ad-47a6-8560-08b1ac31811)<br />![2021-08-21-10-11-31-073309.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629512076815-c0598056-2034-46f7-be42-07cb47024fd9.png#clientId=u637c3a12-0e47-4&from=ui&id=u5052099e&originHeight=88&originWidth=264&originalType=binary&ratio=1&size=2808&status=done&style=none&taskId=u05df11a8-96ec-465f-8ad1-29590312731)<br />关于这里-5的解释：【是否左对齐以及空格填充，最大字符和最小字符等】<br />![2021-08-21-10-11-31-225310.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629512091070-bbda4234-23af-4f14-a454-890b8649feb9.png#clientId=u637c3a12-0e47-4&from=ui&id=uf442bdc2&originHeight=430&originWidth=870&originalType=binary&ratio=1&size=60263&status=done&style=shadow&taskId=u216a3e04-2345-43a2-be84-9cf4fbc83e2)![2021-08-21-10-11-31-461309.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629512091084-f077bc69-6b27-440e-bbdc-312760ef4d32.png#clientId=u637c3a12-0e47-4&from=ui&id=ue446c7b7&originHeight=253&originWidth=865&originalType=binary&ratio=1&size=29241&status=done&style=shadow&taskId=u1eac2705-8c7b-4c42-a223-ffa9c734535)
<a name="Guvxz"></a>
### 10.`%r`【从程序运行到本条日志打印出来的毫秒数】
%r = %relative【等价】<br />![2021-08-21-10-11-31-548310.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629512119897-69dda7f8-0a5b-404f-8b81-fb9c7e3cde62.png#clientId=u637c3a12-0e47-4&from=ui&id=u0f8a6364&originHeight=213&originWidth=209&originalType=binary&ratio=1&size=7685&status=done&style=none&taskId=u9e457ae0-b717-4ec0-adf1-baa55c06ddb)
<a name="UC7BX"></a>
### 11.`%t`【本条日志所在线程名字】
%t = %thread<br />![2021-08-21-10-11-31-742311.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629512119914-32ebd3c0-f37a-4ef7-bed3-e099060bcfb6.png#clientId=u637c3a12-0e47-4&from=ui&id=fsmGV&originHeight=287&originWidth=297&originalType=binary&ratio=1&size=11934&status=done&style=none&taskId=u46011e8e-3f58-4479-9c44-ecb1631ad33)
<a name="NgeMg"></a>
### 12.`%i`【这个在官方文档没有，但是它代表的是序号的意思】
尤其在生成日志文件的时候，这个是非常有必要的，因为日志文件必须要设置最大文件大小，如果在生成日志文件的规则内，一个日志文件生成到了最大值，那就需要生成2号文件。<br />例如：<br />![2021-08-21-10-11-31-901310.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629512119968-b8e3f24d-8c9e-4af1-a320-8a19cf648b22.png#clientId=u637c3a12-0e47-4&from=ui&id=Z4kY1&originHeight=275&originWidth=979&originalType=binary&ratio=1&size=33926&status=done&style=none&taskId=u0d0e17fa-c02b-4ce4-9073-ecacbbfe5a6)<br />本条规则表示，日志文件是以时间的`yyyy-MM-dd-HH-mm`年月日时分来作为日志文件名。<br />但是一个日志文件的最大值仅能10kb大小，所以如果这一分钟内，生成的日志非常多的话，那一个日志文件生成到10kb的时候装不下了，就只能按照`%i`来生成顺序下的另一个文件了。<br />![2021-08-21-10-11-31-983309.png](https://cdn.nlark.com/yuque/0/2021/png/396745/1629512163556-754710b0-fccc-44bb-937c-2bb37dd4b756.png#clientId=u637c3a12-0e47-4&from=ui&id=uddff0bfc&originHeight=164&originWidth=973&originalType=binary&ratio=1&size=5022&status=done&style=shadow&taskId=u03d32a77-cff4-49f7-8373-3335d868c98)
