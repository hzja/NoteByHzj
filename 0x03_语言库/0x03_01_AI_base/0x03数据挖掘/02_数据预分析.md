# 数据及属性
## 数据类型

1. 记录数据：关系型记录(数据库中)、数据矩阵、交易数据、文档数据等
2. 图&网络：交通网络、万维网、分子结构、社交网络等
3. 有序数据：视频数据(连续图片)、时间数据(时间序列)、顺序数据(连续交易记录、基因序列)等
4. 空间、图片与多媒体数据：地图、图片、视频等



## 结构化数据的四个特征

1. 维度(Dimensionality)
2. 稀疏程度(Sparsity)
3. 解析度(Resolution)[比如全脂牛奶是牛奶的细分一级]
4. 分布(Distribution)



## 属性

### 非数字类型的属性

1. 名词性属性：类别状态的数据，或者一类名称（比如，红、绿、蓝）
2. 二元性属性：只有2个状态的数据（比如，男/女）
3. 有序属性：有一定排序含义的数据（比如，小、中、大）



### 数字类型的属性

1. 数量性属性：整数或实数等
2. 间隔性属性：基于等间隔测量的属性（比如，日历）
3. 比率性属性：百分比等



## 离散属性 vs. 连续属性

### 离散属性(Discrete Attribute)

- Has only a finite or countably infinite set of values
- Sometimes, represented as integer variables
- Binary attributes are a special case of discrete attributes
### 连续属性(Continuous Attribute)

- Has real numbers as attribute values
- Practically, real values can only be measured and represented using a finite number of digits
- Continuous attributes are typically represented as floating-point variables




# 统计指标
## 衡量中心趋势
### 均值(Mean)
![](./img/7b8b965ad4bca0e41ab51de7b31363a1.svg)是sample的大小：![](./img/28ab813c88226f0f793db24fa5a8162c.svg)，![](./img/8d9c307cb7f3c4a32822a51922d1ceaa.svg)是population的大小：![](./img/cf37a4a3c1298525ce5a0d42abe66501.svg)，加权算数平均: ![](./img/b7b369fc785cd53acfbbf1f55138c73f.svg)

### 中位数(Median)
![](./img/5d2153259ecc93ef174f88bd27fbabdc.svg)

![中位数.png](./img/1592277335764-b135572b-a80b-4d44-98d0-76d0b9a1736f.png)

### 众数(mode)
众数：数据集中出现频率最高的

Empirical formula(单众数情况)：![](./img/23ec861ad5a2b564d6b5a37aa7e04d83.svg)
### 对称与倾斜数据(Symmetric vs. Skewed data)

![Symmetric vs. Skewed data1.png](./img/1592277420690-880325fc-765e-4702-9af7-43dd90a6d8eb.png)![Symmetric vs. Skewed data2.png](./img/1592277430173-5a53d0dc-88d0-42b4-b490-15f4defcfad0.png)

## 衡量数据分布
### 正态(高斯)分布性质
![正态分布性质.png](./img/1592277473595-c37e5ca7-afcf-49ae-b31a-0a05becb6924.png)

### 方差与标准差
方差：sample：![](./img/e25a9ed7a5b522d46c98a8813634ab5d.svg)，population：![](./img/10e16c6a764d367ca5077a54bf156f7e.svg)

![](./img/8726d4e7aaaa4a45550013398461a4fd.svg)       分母是![](./img/ddcd98a78463263064d45e662281eb21.svg)的[原因](https://www.zhihu.com/question/20099757)

![](./img/6956be3c0edf17a8d5c5f22cdfda1a18.svg)

标准差：方差的平方根

## 图示数据离散

箱型图(Boxplot)：只展示5个数![](./img/a2f99b39bee5ea252952e57355c9472d.svg)的总结

分位图(Quantile plot)：每个![](./img/1ba8aaab47179b3d3e24b0ccea9f4e30.svg)值对应的![](./img/59bdf0ba696e13164c5a926386f23cb0.svg)表示大概![](./img/dcd4b58777ec5044d0dcd6c8da0ddb9b.svg)的数据比![](./img/1ba8aaab47179b3d3e24b0ccea9f4e30.svg)小

![](./img/1592023523776-724b794c-c50a-4452-8858-e25842941c85.png)

柱状图(Histogram)：横轴表示值，纵轴表示频率

点图(Scatter plot)：散点图

# 数据可视化
## 几何映射可视化(Geometric Projection Visualization Techniques)

1. Direct visualization
2. Scatter plot and scatter plot matrices
3. Landscapes
4. Projection pursuit technique
5. Prosection views
6. Hyperslice
7. Parallel coordinates

## 基于图标的可视化(Icon-based Visualization Techniques)
经典方法：Chernoff Faces, Stick Figures

常规方法：

- Shape coding：用形状表示某种信息编码特性
- Color icons：用带颜色图标表示更多信息
- Tile bars：用小图标表示文档检索相关特征向量



## 层级可视化(Hierarchical Visualization Techniques)

1. Dimensional Stacking
2. Worlds-within-Worlds
3. Tree-Map
4. Cone Trees
5. InfoCube



## 复杂数据及其关系可视化(Complex Data and Relations)
1、Tag Cloud    2、Social Network


# 相似度与距离
## 数字数据属性
### Z-score
![](./img/b6c6d14801e7061261753b2e7876d7a2.svg)，![](./img/9dd4e461268c8034f5c8564e155c67a6.svg)是需要标准化数据，![](./img/c9faf6ead2cd2c2187bd943488de1d0a.svg)是统计均值，![](./img/a2ab7d71a0f07f388ff823293c147d21.svg)是标准差。即计算与均值差几个标准差

### 马氏距离(Mahalanobis distance)
![](./img/7bf3290493bbaf95abbec56c59b94204.svg)

其中，![](./img/cff19eeeeb9692cbf8a6b0864c461f5e.svg)：(![](./img/2c6f3b6c16df97a1b00e04ff17e4906e.svg) norm) **Manhattan (or city block) distance**

![](./img/930f0afd5be5f29b18f9066912ee468d.svg)

其中，![](./img/905b566b5fb4359eb506b353ea3775f2.svg)：(![](./img/07cbd6c155424e110559a84df364be5a.svg) norm) **Euclidean distance**

![](./img/6e558c16a0633c5c05e1b88f1ec236eb.svg)

其中，![](./img/ede04631090aa55f65bc3052e60ad16a.svg)：(![](./img/0a3ba59c2c8365859475f9f7b8af1d80.svg) norm, ![](./img/608cab11b99f269b3b70e387c4380d45.svg) norm)  **"Supremum" distance**

![](./img/42fc4824d72c3d2ed384976a1fa2a6a8.svg)

![马氏距离.png](./img/1592278351117-e182c506-6c58-48fc-9620-64843ab71546.png)

## 二元数据属性
|  |  | object j | object j | object j |
| --- | --- | --- | --- | --- |
|  |  | 1 | 0 | sum |
| object i | 1 | q | r | q+r |
| object i | 0 | s | t | s+t |
| object i | sum | q+s | r+t | p |


对称二元变量：![](./img/133e57fa28cbe63bc7cc6e077db138d2.svg)

非对称二元变量：![](./img/455c18f02f1ee790bf3f1b2fa8623d32.svg)

Jaccard系数(非对称二元变量的相似度)：![](./img/9fffbd75f24e2919955ab01b37856786.svg)

![二元属性.png](./img/1592278482071-b43165f6-7a8b-4a2e-9bf5-10f97832c58d.png)


## 分类数据属性

比如颜色(红，黄，蓝，绿...)


### Simple matching

![](./img/003766da3fa6ccf72ae88e1d58d84942.svg)，![](./img/6f8f57715090da2632453988d9a1501b.svg)：匹配个数，![](./img/83878c91171338902e0fe0fb97a8c47a.svg)：变量个数


### Use a large number of binary attributes

Creating a new binary attribute for each of the M nominal states


## 有序数据属性
比如年级(大一，大二，大三，大四)

用![](./img/fd4bf89829a52780c9bdefdcf9275328.svg)映射到![](./img/ccfcd347d0bf65dc77afe01a3306a96b.svg)区间，eg. 大一：0；大二：1/3；大三：2/3；大四：1


## 混合数据属性
包含多种类型属性：![](./img/ef9fe2bf3e612792763101f860a33696.svg)，即加权去算


## 比较两向量
余弦距离：![](./img/df296700bf5c766000b05dc8a3f5d246.svg)，分子为向量点积，分母为向量长度相乘

![余弦距离.png](./img/1592278727703-6887cad5-1675-46e3-b5be-7434b4e7d907.png)

## 比较两概率分布
KL散度(KL Divergence)：

离散数据：![](./img/0744587db4eb5c7faaed13e8bdc4a222.svg)

连续数据：![](./img/9bd785bf029da226b813901da9d5995f.svg)



# [马尔可夫与切比雪夫不等式](https://www.zhihu.com/question/27821324)

切比雪夫不等式，描述了这样一个事实，事件大多会集中在平均值附近，比如假如中国男人平均身高1.7m，那么不太可能出现身高17m的巨人。而切比雪夫不等式是马尔可夫不等式的一个特殊形式。

## 马尔可夫不等式
![](./img/fc2127c50599d01a570f85737b53bdbc.svg)，其中![](./img/540268786163c7cd5d7da04bf255952e.svg)

![马尔可夫不等式.gif](./img/1592278849343-d350ef49-f726-4395-94c3-bbd56ed1da77.gif)

### 马尔可夫不等式证明
如上图，![](./img/412775fd9035c2ad9ebf66dd6268cb46.svg)其实就是绿色部分面积：

![](./img/394e2b240a56521fefb4dd09da7f3510.svg)

由于![](./img/1015ee92d1a57e271b6d0b4b2ddb1654.svg)且![](./img/0feea71dda36a3e0d9970b9756f05146.svg)所以![](./img/f1346b4768919ffce4d401a0d88cded6.svg)：

![](./img/606329801c653b0f7b8fb9c041802abe.svg)

根据期望的定义：

![](./img/60af17a99cda60f1113d021189d92913.svg)

显然![](./img/792030e3881e56a7a43eefebe5e8fde8.svg)，所以综合上面两式：

![](./img/376f6b972a1d8229827b19e99ec1a2bc.svg)

因为![](./img/0cc175b9c0f1b6a831c399e269772661.svg)为常数，![](./img/7f2e1b01104de23241ab4bc40fa692d8.svg)：

![](./img/741dfaa52a5ccf146054d4f1a07b201f.svg)

<a name="q6Gw1"></a>
### 马尔可夫不等式例子
计算百万年薪人概率，数据人均收入![](./img/c9faf6ead2cd2c2187bd943488de1d0a.svg)：51350元，人均收入标准差![](./img/a2ab7d71a0f07f388ff823293c147d21.svg)：44000元

根据马尔可夫不等式：![](./img/72f6c88e42800f29d3420c2a7e36e1be.svg)

也就是说20个人中就有一个年薪百万的
<a name="tG83D"></a>

## 切比雪夫不等式
![](./img/1d961f836aa0c76291bc33137a92fee7.svg)

![切比雪夫不等式.gif](./img/1592279145926-d773d45c-6598-4df3-8d4a-150fe74ca219.gif)

<a name="SpENv"></a>
### 切比雪夫不等式证明

将![](./img/603b0ec4b499fc5788e7c48e04aeb0b8.svg)代入马尔可夫不等式![](./img/0c27504d50a986e169e43ee284277bdd.svg)：

![](./img/94814f378ad5404f27d1a854d87eec06.svg)

等价于：

![](./img/c4ed6c4cf99240609bf4287d381d8afd.svg)

令![](./img/1e57e275f4b461da06d9e3ab0785737b.svg)(可知![](./img/99fb54c066b724ea0b7bf0cf745f8232.svg))：

![](./img/1d961f836aa0c76291bc33137a92fee7.svg)


### 切比雪夫不等式例子

还是之前的数据：计算百万年薪人概率，数据人均收入![](./img/c9faf6ead2cd2c2187bd943488de1d0a.svg)：51350元，人均收入标准差![](./img/a2ab7d71a0f07f388ff823293c147d21.svg)：44000元

根据马尔可夫不等式：![](./img/6e38c282242a1090630fd66412d9461e.svg)

也就是说1000个人中就有两个年薪百万的

**知道数据均值、方差等数据，根据切比雪夫不等式可以得到置信区间大于多少的至少需要多少数据量：**

![](./img/610f7c27f8e115dd517a92b6034f3190.svg)
# [辛普森悖论](https://baike.baidu.com/item/%E8%BE%9B%E6%99%AE%E6%A3%AE%E6%82%96%E8%AE%BA/4475862)
工作生活中，我们经常将一个大目标拆分成很多子目标，比如我是一家金融投行，现在追求更高ROI(投资回报率)，即想要 产出/投入 的比值更大

![](./img/2f74afbec7b5e79f57261146d4f57dd7.svg)

当前我们投行投资了![](./img/459f3c80a50b7be28751b0869ef5386a.svg)家公司，分别为![](./img/6751144b659233e9bbb55671a37a702f.svg)，现在把任务分到了公司内的各个小组，每个小组提升其负责的被投资公司的ROI，每个小组都非常努力，每家公司的ROI均有不同程度的提升，从![](./img/1fd5db1fd060eae8981ec63cf1cdaede.svg)提升到了![](./img/4caa6c03b9d677188140266f8bb6b9dd.svg)

![](./img/3d2c0212722cae954d7528f311e247b7.svg)

![](./img/5b5f2872343b329daec3ff4a5c7fe330.svg)

...

![](./img/0b42d95264972e67aa863bcd9df266aa.svg)

到年底了，各组都圆满完成了提升ROI的任务，翘首以盼年终奖，然而，公司一算总账，ROI下跌，年终奖取消！问题出在了哪里呢？每个公司的ROI提升了，总的ROI就一定会提升吗？即下式一定成立吗？

![](./img/8c7a1cf4b689c18f89c4ff8a0dee3c44.svg)

答案是否定的，这就是辛普森悖论，以数值的例子来说明

| 学院 | 第一年申请 | 第一年录取 | 第一年录取率 | 第二年申请 | 第二年录取 | 第二年录取率 |
| --- | --- | --- | --- | --- | --- | --- |
| 商学院 | 100 | 49 | 49% | 20 | 15 | 75% |
| 法学院 | 20 | 1 | 5% | 100 | 10 | 10% |
| 总计 | 120 | 50 | 42% | 120 | 25 | 21% |

清华的法学院&商学院，我们今年放宽了录取标准，录取率分别从49%->75%和5%->10%，你们怎么还考不上清华42%->21%！

# Source
[https://github.com/chmx0929/UIUCclasses/blob/master/412DataMining/PDF/02Data.pdf](https://github.com/chmx0929/UIUCclasses/blob/master/412DataMining/PDF/02Data.pdf)<br />[切比雪夫不等式到底是个什么概念? - 知乎](https://www.zhihu.com/question/27821324)<br />[为什么样本方差（sample variance）的分母是 n-1？ - 知乎](https://www.zhihu.com/question/20099757)<br />[百度百科-验证](https://baike.baidu.com/item/%E8%BE%9B%E6%99%AE%E6%A3%AE%E6%82%96%E8%AE%BA/4475862)
