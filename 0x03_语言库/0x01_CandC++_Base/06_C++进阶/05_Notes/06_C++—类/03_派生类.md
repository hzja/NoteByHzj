# C++ 派生类

<a name="JlsDH"></a>

### 定义派生类的基类
<a name="EgMjO"></a>
#### [tabtenn.h](https://github.com/Fcscanf/Pro1/commit/4a60a622f43fcbe9db7c7845f9ad9764dfea49aa#diff-d82f5943d5db3abae393ed2dc983cd28d17691fb38a32453ba04efe7adc4b570)
```cpp
#ifndef PRO1_TABTENN_H
#define PRO1_TABTENN_H

class TableTennisPlayer {
private:
    enum {LIM = 20};
    char firstname[LIM];
    char lastname[LIM];
    bool hasTable;
public:
    TableTennisPlayer(const char* fn = "none", const char* ln = "none", bool ht = false);
    void Name()const ;
    bool HasTable()const { return hasTable;};
    void ResetTable(bool v){hasTable = v;};
};

#endif //PRO1_TABTENN_H
```
<a name="Rzh5p"></a>
#### [tabtenn.cpp](https://github.com/Fcscanf/Pro1/commit/4a60a622f43fcbe9db7c7845f9ad9764dfea49aa#diff-e382a815806ecfae3615fdaabb64fa8e2aaffdec107ac57b05ab958837acbdb0)
```cpp
#include "tabtenn.h"
#include <iostream>
#include <cstring>

using namespace std;

TableTennisPlayer::TableTennisPlayer(const char *fn, const char *ln, bool ht) {
    strncpy(firstname, fn, LIM - 1);
    firstname[LIM - 1] = '\0';
    strncpy(lastname, ln, LIM -1);
    lastname[LIM - 1] = '\0';
    hasTable = ht;
}

void TableTennisPlayer::Name() const {
    cout << lastname << " , " << firstname;
} 
```
<a name="eeZJO"></a>
#### [main.cpp](https://github.com/Fcscanf/Pro1/commit/4a60a622f43fcbe9db7c7845f9ad9764dfea49aa#diff-608d8de3fba954c50110b6d7386988f27295de845e9d7174e40095ba5efcf1bb)
```cpp
#include <iostream>
#include "module6_extends/tabtenn.h"

using namespace std;

void usett(){
    TableTennisPlayer player1("Chuck", "Blizzard", true);
    TableTennisPlayer player2("Tara", "Boomdea", false);
    player1.Name();
    if (player1.HasTable()) {
        cout << ":has a table.\n";
    } else{
        cout << ":has't a table.\n";
    }
    player2.Name();
    if (player2.HasTable()) {
        cout << ":has a table.\n";
    } else{
        cout << ":has't a table.\n";
    }
}

int main() {
    usett();
    return 0;
}
 
```
<a name="gm04h"></a>
### 使用派生类
<a name="PEHxK"></a>
#### [tabtenn.h](https://github.com/Fcscanf/Pro1/commit/c633b256bdbc6d7c35d57c6f65c670ead16d2bc4#diff-d82f5943d5db3abae393ed2dc983cd28d17691fb38a32453ba04efe7adc4b570)
```cpp
class RatedPlayer:public TableTennisPlayer{
private:
    unsigned int rating;
public:
    RatedPlayer(unsigned int r = 0, const char* fn = "none", const char* ln = "none", bool ht = false);
    RatedPlayer(unsigned int r, const TableTennisPlayer & tp);
    unsigned int Rating(){ return rating; }
    void ResetRating(unsigned int r){rating = r;}
};
```
<a name="tabtenn.cpp"></a>
#### [tabtenn.cpp](https://github.com/Fcscanf/Pro1/commit/c633b256bdbc6d7c35d57c6f65c670ead16d2bc4#diff-e382a815806ecfae3615fdaabb64fa8e2aaffdec107ac57b05ab958837acbdb0)
```cpp
RatedPlayer::RatedPlayer(unsigned int r, const char *fn, const char *ln, bool ht):TableTennisPlayer(fn, ln, ht){
    rating = r;
}

RatedPlayer::RatedPlayer(unsigned int r, const TableTennisPlayer &tp):TableTennisPlayer(tp), rating(r) {}
```
<a name="aQakf"></a>
#### [main.cpp](https://github.com/Fcscanf/Pro1/commit/4a60a622f43fcbe9db7c7845f9ad9764dfea49aa#diff-608d8de3fba954c50110b6d7386988f27295de845e9d7174e40095ba5efcf1bb)
```cpp
#include <iostream>
#include "module6_extends/tabtenn.h"

using namespace std;

void usett(){
    TableTennisPlayer player1("Chuck", "Blizzard", true);
    TableTennisPlayer player2("Tara", "Boomdea", false);
    RatedPlayer ratedPlayer(1140, "Mallory", "Duck", true);
    ratedPlayer.Name();
    if (ratedPlayer.HasTable()) {
        cout << ":has a table.\n";
    }else{
        cout << ":has't a table.\n";
    }
    player1.Name();
    if (player1.HasTable()) {
        cout << ":has a table.\n";
    } else{
        cout << ":has't a table.\n";
    }
    player2.Name();
    if (player2.HasTable()) {
        cout << ":has a table.\n";
    } else{
        cout << ":has't a table.\n";
    }
    cout << "Name: ";
    ratedPlayer.Name();
    cout << ":Rating: " << ratedPlayer.Rating() << endl;
    RatedPlayer ratedPlayer1(1221, player1);
    cout << "Name: ";
    ratedPlayer1.Name();
    cout << ":Rating :" << ratedPlayer1.Rating() << endl;
}

int main() {
    usett();
    return 0;
}
 
```
