Linux<br />Linux 终端是一个功能强大的工具，允许使用命令执行各种系统操作。文件操作、程序管理和服务自动化是可以使用 shell 命令高效执行的一些操作。<br />但是，在执行多个操作时，逐个运行命令效率不高。一种更快的方法是在一行中链接多个命令。这不仅加快了流程，而且还节省了时间。<br />探索一下在 Linux 中一次运行多个命令的所有方法。
<a name="sdLWv"></a>
## 一次运行多个 Linux 命令
Linux 使用三个运算符来在一行中执行多个命令：

- 分号 （`;`） 运算符
- 逻辑 OR （`||`） 运算符
- 逻辑 AND （`&&`） 运算符

所有这些运算符都可以同时运行两个或多个 shell 命令。但是，了解要使用的运算符以及何时使用可以更有效地创建命令。以下各节讨论正确使用这些运算符的目的和语法：
<a name="O3MhQ"></a>
### 1、使用分号 （`;`)  运算符
使用分号对命令链进行分段是在 Linux 终端中运行多个命令的最常见做法。部分原因是运算符的执行方式：它运行序列中的所有命令，而不管前一个命令是否成功运行。<br />例如，如果有两个命令：命令 A 和命令 B，则在它们之间使用分号运算符可确保无论第一个命令的输出如何，这两个命令都按顺序执行。
```bash
command A ; command B
```
因此，如果需要同时运行两个或多个不相关的终端命令，以便第一个命令的输出状态不会影响后者的执行，分号运算符是要走的路。<br />示例用例：如果要查看当前用户的名称和系统主机名，可以使用：
```bash
xiaoyuer@linuxmi:~/www.linuxmi.com$ whoami ; hostname
xiaoyuer
linuxmi
```
请记住，shell 按照输入它们的确切顺序执行这些命令。
<a name="naAVe"></a>
### 2、使用 OR （`||`）运算符
“or”这个词的定义在这里是一个赠品：当使用 OR 运算符运行两个命令时，告诉 shell 只执行两个命令中的一个。<br />假设将 OR 运算符与两个命令一起使用：命令 A 和命令 B。以下是使用 OR 运算符的连体命令的外观：
```bash
command A || command B
```
在这里，命令 B 仅在命令 A 失败时执行，即当命令 A 返回错误时。同样，如果命令 A 成功运行，命令 B 将不会执行。<br />谈到它的用例，当需要同时运行两个相关的命令时，可以使用 OR 运算符，这样 shell 只有在前一个命令失败时才执行下一个命令。<br />示例用例：假设要创建一个新文件，例如 Document.txt，但在执行此操作之前，需要确保该文件尚未存在于当前目录中。在这种情况下，可以按以下顺序运行命令：
```bash
xiaoyuer@linuxmi:~/www.linuxmi.com$ find . -name linuxmi.txt || touch linuxmi.txt
xiaoyuer@linuxmi:~/www.linuxmi.com$
```
在这里，find 命令将查找 linux.txt 文件的当前工作目录。如果找到该文件，命令进度将停止，并且第二个命令将不会运行。<br />另一方面，如果找不到该文件，则将执行右侧的命令，并在当前工作目录中创建一个名为 linux.txt 的新文件。
<a name="apC1Q"></a>
### 3、使用 AND （&&） 运算符
正如您可能已经猜到的那样，AND 运算符允许按顺序运行多个命令，即，它仅在前一个命令成功运行时执行序列中的下一个命令。<br />为了更好地理解这一点，请考虑这样一个场景：希望运行两个相关命令，以便仅当第一个命令返回有效输出时才运行第二个命令。在这种情况下，可以使用 AND 运算符（称为 &&）将命令绑定在一起，以获得所需的结果。<br />示例用例：在 Linux 中，AND 运算符最常见的用例之一是创建一个新目录并立即进入该目录。这样，就不必分别运行这两个命令来执行操作。<br />在本指南中，假设要创建一个名为“linuxmi”的新目录，并立即将当前工作目录更改为该目录。这是可以做到的：
```bash
xiaoyuer@linuxmi:~/www.linuxmi.com$ mkdir linuxmi && cd linuxmi
xiaoyuer@linuxmi:~/www.linuxmi.com/linuxmi$
```
在这里，mkdir 命令将在当前工作目录中创建一个名为 linuxmi 的新目录。如果成功，它将允许执行 cd 命令。
<a name="iAfY8"></a>
## 组合多个运算符以满足执行标准
除了在命令中单独使用运算符外，还可以对多个运算符进行分组以满足执行条件。当想要执行满足多个条件的命令时，这会派上用场。<br />例如，假设希望仅在命令 A 失败时才执行两个命令（命令 B 和命令 C）。为此，需要使用运算符，如下面的符号所示：
```
command A || command B && command C
```
示例用例：假设要确定当前工作目录中是否存在文件夹（名为 linuxmi），如果不存在，则创建该文件夹。<br />在这种情况下，可以一起使用 OR 和 AND 运算符来有效地执行整个操作，而不是运行单独的命令来查找目录并创建新目录。<br />就是这样子：
```bash
find . -name linuxmi1 || echo "目录未找到" && mkdir linuxmi
```
在此命令中，find 要求 shell 在当前工作目录中搜索名为 Document 的文件夹。如果该目录不存在，终端会将流传输到 echo 和 mkdir 命令，这些命令分别打印指定的字符串并创建新文件夹。
<a name="Q5Qbe"></a>
## 使用 shell 脚本一次运行多个命令
shell 脚本是一个程序，可一次自动执行一系列命令。它消除了在 Linux 终端中键入多个命令的需要，并节省了时间和精力。<br />只需创建一个脚本，其中包含频繁运行所需的所有命令，并将其转换为可执行文件。然后，在需要执行这些命令时运行它，它将完成所有操作。<br />首先创建一个新文件，然后键入要立即执行的命令。使用适当的名称保存文件，并在末尾添加“.sh”扩展名。<br />现在，打开终端并导航到保存脚本的文件夹。运行以下命令以使文件可执行：
```bash
chmod +x linuxmi.sh
```
完成后，下次需要再次执行这些命令时，请转到终端中包含脚本文件的文件夹并像这样执行它：
```
./linuxmi.sh
```
可以使用它的一个应用程序是系统更新。与其在每次要更新系统时在终端中手动键入和执行 `sudo apt update` 和 `sudo apt upgrade` 命令，不如创建一个脚本来自动运行命令。<br />只需使用以下命令创建一个脚本文件，然后按照上面演示的其余步骤操作：
```bash
#!/bin/bash
sudo apt update && sudo apt upgrade -y
```
<a name="lwaIa"></a>
## 在 Linux 中高效运行终端命令
在命令中使用运算符可以简化大多数命令行操作。<br />如果希望通过终端在计算机上执行不同的系统操作，了解如何使用这些运算符将非常有帮助，并有效地运行 Linux 命令。<br />同样，如果刚刚开始（或者不太熟悉）Linux，那么学习不同的终端命令是掌握命令行界面的又一步。
