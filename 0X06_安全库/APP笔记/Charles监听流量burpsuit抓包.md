
有时候测ios  app，抓包抓不了，ssl killer开启也抓不到包，这个时候可以使用charles流量转发到bp上进行抓包。

首先吧windows的proxy关掉，这个是系统全局代理不关的话所有流量都会走charles。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668745397515-e62a1777-78e4-412d-825f-f4c19a3ea2c7.png#clientId=u2e69bc60-f3c6-4&from=paste&height=540&id=uee1805f9&originHeight=675&originWidth=546&originalType=binary&ratio=1&rotation=0&showTitle=false&size=41774&status=done&style=none&taskId=ua9341cfd-e9f5-44ff-a268-5d152e09834&title=&width=436.8)<br />然后要安装Charles的证书<br />[https://blog.csdn.net/caixiangting/article/details/125646494](https://blog.csdn.net/caixiangting/article/details/125646494)

然后设置Charles的监听端口，设置后，手机上设置本机的ip和charles监听端口<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668745452824-364d92b8-80bb-4001-b6e2-72b0fc6a0503.png#clientId=u2e69bc60-f3c6-4&from=paste&height=518&id=u7f342247&originHeight=648&originWidth=467&originalType=binary&ratio=1&rotation=0&showTitle=false&size=33919&status=done&style=none&taskId=uf4c19050-9808-4132-8a12-a4983962a2d&title=&width=373.6)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668745462050-50d77a37-a2bf-4ec9-b8a9-5ad476ac9d16.png#clientId=u2e69bc60-f3c6-4&from=paste&height=434&id=u2dedf4b9&originHeight=543&originWidth=674&originalType=binary&ratio=1&rotation=0&showTitle=false&size=26053&status=done&style=none&taskId=ue24e56e5-b15b-4479-8ae4-694451a67c1&title=&width=539.2)

这里设置的是bp的监听端口，把流量转到bp上，然后就可以用bp抓到ios的包了。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668745384234-1a8beaca-0c7d-4fa1-8365-07e866adb24e.png#clientId=u2e69bc60-f3c6-4&from=paste&height=606&id=u64ad3e34&originHeight=757&originWidth=919&originalType=binary&ratio=1&rotation=0&showTitle=false&size=52926&status=done&style=none&taskId=u726bee31-92da-4ba2-ab90-81d0f71486f&title=&width=735.2)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668745294100-bbae80ee-3eea-4c43-8163-be89387af425.png#clientId=u2e69bc60-f3c6-4&from=paste&height=628&id=ue3b331f5&originHeight=785&originWidth=1054&originalType=binary&ratio=1&rotation=0&showTitle=false&size=55794&status=done&style=none&taskId=u45c1bf52-d1e4-4987-9e10-95af4fea390&title=&width=843.2)
