frida安装直接pip install会出现很多问题，如果能很顺利的安装了最新版就最好了，frida_tools直接不用安装，因为ios的frida上能直接下载个16.0.2的，就能搞定了<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668840207257-5d2f1433-fff9-47d8-9ddc-777733a5a76b.png#clientId=ue08d416b-08eb-4&from=paste&height=66&id=u3e4c22fb&originHeight=43&originWidth=346&originalType=binary&ratio=1&rotation=0&showTitle=false&size=3378&status=done&style=none&taskId=u80ddf1bb-d4c7-49cf-8297-d4d487ed235&title=&width=530.8000183105469)

![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668845273278-155a455f-e6c9-4c55-af3f-8f590b836bed.png#clientId=ue08d416b-08eb-4&from=paste&height=222&id=u48885323&originHeight=202&originWidth=504&originalType=binary&ratio=1&rotation=0&showTitle=false&size=17248&status=done&style=none&taskId=uccdf8c7b-0c3d-402f-9cc8-6e5062ec2a9&title=&width=553.2000122070312)


如果想指定低版本下载，又会出现这种问题，太麻烦了。<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668840258403-9fe6e6de-e300-4c30-9cf9-777183d9f66a.png#clientId=ue08d416b-08eb-4&from=paste&height=126&id=u3d928bdb&originHeight=158&originWidth=1103&originalType=binary&ratio=1&rotation=0&showTitle=false&size=28510&status=done&style=none&taskId=ua06a0fd7-82fc-4183-a569-8f6e5350ece&title=&width=882.4)

后来解决的方法是，在pypi上找到对应的frida版本，把下载好的egg文件放到python的easy_install.exe的目录下，然后直接执行下载<br />[https://pypi.org/project/frida/14.2.0/#files](https://pypi.org/project/frida/14.2.0/#files)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668840324515-fbfe9df9-4978-439f-999e-76b61c945250.png#clientId=ue08d416b-08eb-4&from=paste&height=146&id=u98aa709e&originHeight=183&originWidth=885&originalType=binary&ratio=1&rotation=0&showTitle=false&size=33980&status=done&style=none&taskId=ua6c08796-4236-41c5-b8a7-b39de7461f3&title=&width=708)

随后再下载tools ，就很顺利的安装完了，不会卡这那个running setup...的问题里面(坑惨了)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668840379911-bb9e3f51-0db4-43ac-bad3-662712a5cc2d.png#clientId=ue08d416b-08eb-4&from=paste&height=220&id=u9fcd2e78&originHeight=275&originWidth=1200&originalType=binary&ratio=1&rotation=0&showTitle=false&size=57688&status=done&style=none&taskId=ud90020f6-9fe2-423b-8cff-ea55705239d&title=&width=960)

然后到[https://github.com/frida/frida/releases?page=8](https://github.com/frida/frida/releases?page=8) 里面下载的对应版本的server，放到手机上<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668840474827-a36edb18-866c-443b-acb6-68d627f669cc.png#clientId=ue08d416b-08eb-4&from=paste&height=345&id=u987d12c8&originHeight=431&originWidth=515&originalType=binary&ratio=1&rotation=0&showTitle=false&size=51883&status=done&style=none&taskId=ufaf4eec2-3c1d-4965-b65a-8c737e4e634&title=&width=412)

解压后把server的二进制文件拖进去<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668840652529-81f6ab10-f8a4-4409-9052-fe9b4e352a59.png#clientId=ue08d416b-08eb-4&from=paste&height=621&id=u848e943f&originHeight=776&originWidth=1091&originalType=binary&ratio=1&rotation=0&showTitle=false&size=224407&status=done&style=none&taskId=u2bf938ff-2ac4-4823-9221-3ae28f0e573&title=&width=872.8)<br />ssh上赋个权限<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668840686350-affcc234-5be6-4b96-84d7-6934f19d7c05.png#clientId=ue08d416b-08eb-4&from=paste&height=97&id=u42789c49&originHeight=121&originWidth=879&originalType=binary&ratio=1&rotation=0&showTitle=false&size=17769&status=done&style=none&taskId=u6883c72f-21ca-4df0-90c8-f7669935cf1&title=&width=703.2)<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668845273278-155a455f-e6c9-4c55-af3f-8f590b836bed.png#clientId=ue08d416b-08eb-4&from=paste&height=222&id=hlDpw&originHeight=202&originWidth=504&originalType=binary&ratio=1&rotation=0&showTitle=false&size=17248&status=done&style=none&taskId=uccdf8c7b-0c3d-402f-9cc8-6e5062ec2a9&title=&width=553.2000122070312)

然后就可以进行frida的hook了，[https://github.com/la0s/Frida-scripts](https://github.com/la0s/Frida-scripts) hook的js脚本<br />frida -U -f (包名) -l CC_Hook_2Base64.js no-pause<br />![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668867817107-04d43d47-9460-4504-b4cc-4e372481fc4a.png#clientId=ue08d416b-08eb-4&from=paste&height=259&id=u9a8f1ec2&originHeight=324&originWidth=1206&originalType=binary&ratio=1&rotation=0&showTitle=false&size=48469&status=done&style=none&taskId=u7346db6b-5469-4ba3-a0e2-ff56d396735&title=&width=964.8)

![image.png](https://cdn.nlark.com/yuque/0/2022/png/1345801/1668868432687-4642486b-24b8-46d1-b782-731f674b7995.png#clientId=ue08d416b-08eb-4&from=paste&height=559&id=ufd81b4b5&originHeight=699&originWidth=526&originalType=binary&ratio=1&rotation=0&showTitle=false&size=140921&status=done&style=none&taskId=u30404be0-32e9-40f9-99d0-9ea52918c8b&title=&width=420.8)
