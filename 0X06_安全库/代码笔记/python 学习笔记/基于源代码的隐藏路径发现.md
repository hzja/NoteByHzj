<a name="uUkYN"></a>
## 思路：
其实想法很简单，就是通过识别到java源码中controller层下的所有路由路径，并且提取出来。<br />可以用来源代码审计中的所有路径获取,方便发现黑盒无法访问的隐秘路径。

<a name="BnGpW"></a>
## 简单代码实现：
如下
```python
import re
import os

def pathdir(a):
    path = a
    #path=r'D:\testMaven\src\com\javapandeng\controller'  
    file_path=[]  
    for filename in os.listdir(path):
        #print((os.path.join(path,filename)))
        file_path.append((os.path.join(path,filename)))
    #print(file_path)
    for i in file_path:
        readfile(i)

def readfile(i):
    filename = i
    a=[]

    #filename=r'D:\testMaven\src\com\javapandeng\controller\CarController.java'
    try:
        with open(filename, 'r',encoding='utf-8') as f:
            line = f.readlines()
            for i in line:
                #if ('@RequestMapping' in i) or ('@GetMapping'in i):
                if ('@RequestMapping' in i or '@GetMapping' in i) and (' ' not in i):
                    #print(i,'\n')
                    str_pat = re.compile(r'\"(.*)\"')
                    a.append(str_pat.findall(i))
                    print(a[0][0])
                    for i in line:
                        if ('@RequestMapping' in i or '@GetMapping' in i) and (' ' in i):
                        #print(i,'\n')
                            str_pat2 = re.compile(r'\"(.*)\"')
                            b = str_pat2.findall(i)
                            print(a[0][0]+b[0])
                    
                    '''
                    if ' ' not in i:
                        a.append(i)
                        print(a)
                    '''
    except:
        print("error,please check")
if __name__ == '__main__':
    print('''
    用来源代码审计中的所有路径获取,方便发现黑盒无法访问的隐秘路径。 --by aufeng
    ''')
    a = input("请输入java路由的路径：")
    pathdir(a)

```
<a name="tvEgg"></a>
## 效果如下：
![image.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1626017326716-15f93b9e-9160-4a97-8c36-ab0d1cf3e9ff.png#height=500&id=WxA3k&originHeight=666&originWidth=938&originalType=binary&ratio=1&rotation=0&showTitle=false&size=67567&status=done&style=none&title=&width=704)
<a name="YjuA2"></a>
## 不足
还需要深入完善。
