最近学java审计，想了解java web开发基础，所以想先从servlet，体验下纯java web的开发<br />-----------<br />所需环境<br />Jdk 1.8<br />Tomcat 8.5<br />IDEA<br />IDEA中Javaweb 创建过程总结大概如下5点<br />1.创建Project项目<br />2.WEB-INF下创建classes和lib目录<br />3.Project Structure中把两个path修改成classes的目录，并且Dependencies中设置Jar Direcotry<br />4.配置 tomcat，在Deployment中设置war包<br />5.Project Structure中Dependencies选项卡设置tomcat版本
<a name="9pGoA"></a>
## 一、创建java web工程
![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602010671-2edeec23-09cc-447e-87a8-93fe46758496.png#align=left&display=inline&height=384&originHeight=737&originWidth=1430&status=done&style=none&width=746)<br />Project name随意创建<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602010954-892dec4b-0f41-4f08-9371-de0bb10b6462.png#align=left&display=inline&height=105&originHeight=137&originWidth=973&status=done&style=none&width=746)<br />创建成功后会有如下原始文件<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602011194-60b29c8d-d29b-42c2-9ab2-02e0cbc40df4.png#align=left&display=inline&height=359&originHeight=478&originWidth=702&status=done&style=none&width=527)<br />在WEB-INF目录下点击右键，选择New→Driectory，分别创建 classes 和 lib两个目录<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602011454-9294c81e-dc38-4d49-bcde-d49ab3b383b5.png#align=left&display=inline&height=350&originHeight=466&originWidth=763&status=done&style=none&width=572)<br />左上角选择 File→Project Structure，进入Project Structure，选择Modules→选择项目aufeng->切换到Paths选项卡-->勾选"Use module compile output path"，将“Output path”和"Test output path"都改为之前创建的classes目录。<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602011708-e6f21532-34fb-4b99-9148-230adb9e93f3.png#align=left&display=inline&height=362&originHeight=646&originWidth=1332&status=done&style=none&width=746)<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602011969-fe42588e-57b4-4a3b-bd4d-6e5b085faade.png#align=left&display=inline&height=558&originHeight=744&originWidth=852&status=done&style=none&width=639)<br />在同样的界面，选中Dependencies选项卡→点击右边的 “+”，选择"JARs or directories..."，选择创建的lib目录，选择Jar Direcotry。 配置完后点击apply再ok<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602012326-442522e5-34ef-428d-a808-db391f4e1f1a.png#align=left&display=inline&height=480&originHeight=640&originWidth=876&status=done&style=none&width=657)
<a name="mC163"></a>
## **二、配置Tomcat**
Run→Edit Configurations，进入“Run Configurations”窗口，点击"+"→Tomcat Server →Local，创建一个新的Tomcat容器<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602012582-75f89519-3701-477c-9644-ca41df580111.png#align=left&display=inline&height=563&originHeight=824&originWidth=1092&status=done&style=none&width=746)<br />选择tomcat的安装目录<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602012811-3c17db9f-9387-452b-9428-59a5aa8e4c4e.png#align=left&display=inline&height=590&originHeight=786&originWidth=916&status=done&style=none&width=687)<br />选择好tomcat的目录后切换到Deployment，点击+号中的Artifact<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602013091-e58984ab-fae4-41c6-9bae-a5114561c920.png#align=left&display=inline&height=311&originHeight=430&originWidth=1033&status=done&style=none&width=746)<br />Application contest的目录就是javaweb映射出来的首目录（可以随意设置）<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602013323-d3618bba-281d-4db0-80e2-e6a02c4a16e4.png#align=left&display=inline&height=617&originHeight=823&originWidth=961&status=done&style=none&width=721)<br />在File-->Project Structure中的Modules中切换到Dependencies选项卡，然后再点击+号中的Library<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602013593-b94aba3b-29f1-4842-8d29-66564119334c.png#align=left&display=inline&height=297&originHeight=569&originWidth=1431&status=done&style=none&width=746)<br />然后选择当前的tomcat版本<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602013839-8adbf9d0-dda7-45df-8c45-a51827967d53.png#align=left&display=inline&height=452&originHeight=602&originWidth=672&status=done&style=none&width=504)<br /> <br />Index.jsp修改内容<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602014048-89cb0021-f436-4025-b4ac-a252b3be06e6.png#align=left&display=inline&height=278&originHeight=371&originWidth=812&status=done&style=none&width=609)<br />然后点击运行，会自动弹出本地网页，如果没有的话，可能得看看环境的问题，如下javaweb环境就配置好了<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602014275-2b4bb7cf-5e01-4529-a7bb-e725827f56ec.png#align=left&display=inline&height=164&originHeight=218&originWidth=813&status=done&style=none&width=610)<br /> 
<a name="RXWV5"></a>
## 三、创建**Servlet**
在src目录下创建Servlet类<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602014537-f7538e1d-6247-47e4-a3da-106ce526e0e7.png#align=left&display=inline&height=363&originHeight=527&originWidth=1084&status=done&style=none&width=746)<br />代码如下<br />**import **java.io.IOException;**import **javax.servlet.ServletException;**import **javax.servlet.http.HttpServlet;**import **javax.servlet.http.HttpServletRequest;**import **javax.servlet.http.HttpServletResponse;<br />**public class **AufengServlet **extends **HttpServlet {<br />    @Override<br />    **protected void **doGet(HttpServletRequest req, HttpServletResponse resp) **throws **ServletException, IOException {<br />        System.**_out_**.println(**"TestServlet doGet"**);

        resp.getWriter().print(**"Hi from TestServlet doGet method"**);<br />    }<br />}<br /> <br /> <br />web中的xml也需要添加如下代码<br /><**servlet-name**>是随意设置的<br /><**servlet-class**>需要设置成src目录下的类名<br /><**url-pattern**>是指映射后的目录（javaweb的目录+<**url-pattern**>中的路径）<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602014753-d8bcb63a-f4ac-4b9e-b68a-fc0ddf4c8a6c.png#align=left&display=inline&height=375&originHeight=587&originWidth=1169&status=done&style=none&width=746)<br />运行<br />![](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602015009-b8eec356-792a-476e-809d-31aeb2f9e02d.png#align=left&display=inline&height=164&originHeight=218&originWidth=770&status=done&style=none&width=578)<br />这样一个简单的servlet就搭建完成了<br /> <br />后台处理流程<br />接收浏览器 URL 的请求，访问 /Aufeng_war_exploded/Aufeng在配置文件 web.xml 中的<servlet-mapping>里查找，确定由 HelloServlet 来处理<br />从<servlet> 里查找，查找到HelloServlet对应的类是AufengServlet，然后再使用src目录下AufengServlet中的get请求方法<br /> ![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1612602242754-548e867a-dc41-452a-94b4-80f1fa248f78.png#align=left&display=inline&height=347&originHeight=463&originWidth=711&size=81985&status=done&style=none&width=533)
