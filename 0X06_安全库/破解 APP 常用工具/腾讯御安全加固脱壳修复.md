<a name="VP9YF"></a>

## 工具
所需工具：BlakDex64，MT管理器，NP管理器
<a name="yXhCG"></a>
### BlakDex64
[https://github.com/CodingGay/BlackDex/releases](https://github.com/CodingGay/BlackDex/releases)
> 本项目区分32位与64位，目前是2个不同的app，如在Demo已安装列表内无法找到需要开启的app说明不支持，请使用另一个版本。

[app-BlackDex32.zip](https://www.yuque.com/attachments/yuque/0/2022/zip/396745/1653465229003-564cda25-8225-4253-a3b3-41083aaa89a1.zip?_lake_card=%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2022%2Fzip%2F396745%2F1653465229003-564cda25-8225-4253-a3b3-41083aaa89a1.zip%22%2C%22name%22%3A%22app-BlackDex32.zip%22%2C%22size%22%3A4442107%2C%22type%22%3A%22application%2Fx-zip-compressed%22%2C%22ext%22%3A%22zip%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22uae97e035-37e8-4457-8230-12811a2569c%22%2C%22taskType%22%3A%22upload%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22u3d3b7c4c%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22card%22%3A%22file%22%7D)[blackdex64b310.zip](https://www.yuque.com/attachments/yuque/0/2022/zip/396745/1653465228998-c23bd43c-2ae5-4bcb-8534-ae84281ebe41.zip?_lake_card=%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2022%2Fzip%2F396745%2F1653465228998-c23bd43c-2ae5-4bcb-8534-ae84281ebe41.zip%22%2C%22name%22%3A%22blackdex64b310.zip%22%2C%22size%22%3A4556138%2C%22type%22%3A%22application%2Fx-zip-compressed%22%2C%22ext%22%3A%22zip%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22u582a4375-9112-4d6a-8510-2201df29348%22%2C%22taskType%22%3A%22upload%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22ufb8c1448%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22card%22%3A%22file%22%7D)
<a name="qsfW0"></a>
### MT管理器
[https://binmt.lanzoui.com/b01bivkzc](https://binmt.lanzoui.com/b01bivkzc)
<a name="T1lvL"></a>
### NP管理器
[NP管理器_v3.0.38.zip](https://www.yuque.com/attachments/yuque/0/2022/zip/396745/1653465878180-f1a45772-ca74-490f-af72-da3d56760420.zip?_lake_card=%7B%22src%22%3A%22https%3A%2F%2Fwww.yuque.com%2Fattachments%2Fyuque%2F0%2F2022%2Fzip%2F396745%2F1653465878180-f1a45772-ca74-490f-af72-da3d56760420.zip%22%2C%22name%22%3A%22NP%E7%AE%A1%E7%90%86%E5%99%A8_v3.0.38.zip%22%2C%22size%22%3A36753339%2C%22type%22%3A%22application%2Fx-zip-compressed%22%2C%22ext%22%3A%22zip%22%2C%22source%22%3A%22%22%2C%22status%22%3A%22done%22%2C%22download%22%3Atrue%2C%22taskId%22%3A%22ua43c2081-2b57-4084-8304-de7608adda7%22%2C%22taskType%22%3A%22upload%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22u198883c5%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22card%22%3A%22file%22%7D)
<a name="CEEmo"></a>
## 步骤

1. 打开BlakDex64给APP进行脱壳
2. 打开MT管理器使用APK提取，查看提取的APK，使用Dex编辑器++(全选)打开classes.dex，点开com→wrapper.proxyapplication→WrapperProxyApplication(如图6)
3. 找到className复制后面的入口（如图7）
4. 返回点击AndroidManifest.xml使用反编译打开，找到MyWrapperProxyApplication（如图10），长按粘贴第六步复制的入口，返回保存（不要自动签名）
5. 打开NP管理器找到脱完的壳(/Download/dexDump/)，把hook开头的文件删掉，剩余文件左滑全选然后长按选择DEX修复，点击仅修复头部，然后删除原dex文件，重命名dex文件为classes，classes2，classes3…(如图17)
6. 用MT管理器另一侧找到修复完的壳(/Download/dexDump/)，添加到APK里（不要自动签名）
7. 删除加固多余文件tencent_stub（图20位置）0OO00l111l1l，o0oooOO0ooOo.dat，tosversion（图21-22位置）libshell-super.2019.so（图23-25位置）
8. 返回点击APK使用功能中的APK签名（签名方案V1＋V2），安装测试闪不闪退

![](https://cdn.nlark.com/yuque/0/2022/jpeg/396745/1653464858631-d3abe4d7-8538-4c82-8922-790e791b75c9.jpeg#clientId=ue9959355-bd13-4&from=paste&height=602&id=ufc5ae2c6&originHeight=2408&originWidth=1080&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=shadow&taskId=u65399b19-55ae-4c65-9bb6-0c7e8863d3b&title=&width=270)![](https://cdn.nlark.com/yuque/0/2022/jpeg/396745/1653464858864-95c958e6-13f3-42f0-9f0c-89b6943ea5cc.jpeg#clientId=ue9959355-bd13-4&from=paste&height=602&id=u8dd0f226&originHeight=2408&originWidth=1080&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=shadow&taskId=u777c581d-6470-4469-b038-c753c12d26c&title=&width=270)![](https://cdn.nlark.com/yuque/0/2022/jpeg/396745/1653464858685-6604e521-15c2-4207-9f78-1cd39e122c43.jpeg#clientId=ue9959355-bd13-4&from=paste&height=602&id=u6c395aff&originHeight=2408&originWidth=1080&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=shadow&taskId=ued1effb8-1f39-4dfc-a9d3-e574ffc4530&title=&width=270)![](https://cdn.nlark.com/yuque/0/2022/jpeg/396745/1653464858988-8256a445-5721-45ce-a5b0-151161735220.jpeg#clientId=ue9959355-bd13-4&from=paste&height=602&id=uc6a4a31b&originHeight=2408&originWidth=1080&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=shadow&taskId=ue853b40f-fc67-45e9-bdb8-f187219fe79&title=&width=270)![](https://cdn.nlark.com/yuque/0/2022/jpeg/396745/1653464859139-2417e74b-3089-4ead-96b8-89a549787a1a.jpeg#clientId=ue9959355-bd13-4&from=paste&height=602&id=u0a910cf8&originHeight=2408&originWidth=1080&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=shadow&taskId=ub2dde98e-3420-4301-b9cc-5f60767ab52&title=&width=270)![](https://cdn.nlark.com/yuque/0/2022/jpeg/396745/1653464859346-d2b34b20-138b-470a-965a-3b6e343a1c88.jpeg#clientId=ue9959355-bd13-4&from=paste&height=602&id=u63036f54&originHeight=2408&originWidth=1080&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=shadow&taskId=u3f88aad0-2858-499e-97ee-f437120f30b&title=&width=270)![](https://cdn.nlark.com/yuque/0/2022/jpeg/396745/1653464859518-de9df083-85ab-441b-b86f-7f5c2d2dc2ca.jpeg#clientId=ue9959355-bd13-4&from=paste&height=602&id=ubf6fc931&originHeight=2408&originWidth=1080&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=shadow&taskId=uc3ccb052-146f-41ef-b27b-104c6551eeb&title=&width=270)![](https://cdn.nlark.com/yuque/0/2022/jpeg/396745/1653464859640-afb5614c-750e-41fc-abda-96f64da2ee50.jpeg#clientId=ue9959355-bd13-4&from=paste&height=602&id=u8ab4aced&originHeight=2408&originWidth=1080&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=shadow&taskId=uaecec049-6252-4797-a828-d811e477392&title=&width=270)![](https://cdn.nlark.com/yuque/0/2022/jpeg/396745/1653464859608-ad4a6d08-44f9-4ea5-932a-4101c2182adf.jpeg#clientId=ue9959355-bd13-4&from=paste&height=602&id=ub3da5ea2&originHeight=2408&originWidth=1080&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=shadow&taskId=u90960b12-4867-41b5-92f3-0768c8e8490&title=&width=270)
