Docker
<a name="zxLpg"></a>
### Docker中容器和镜像的关系是什么？

- 镜像可以把它看成Java中的类，而容器可以看做是类的实例化对象。
- 一个类可以有多个对象，同理，一个镜像可以有多个容器。

Docker的整个生命周期有三部分组成：镜像（image）+容器（container）+仓库（repository）。
<a name="E056w"></a>
### Docker 容器=镜像+可读层
容器是由镜像实例化而来。<br />简单来说，镜像是文件，容器是进程。<br />容器是基于镜像创建的，即容器中的进程依赖于镜像中的文件。<br />Docker 的镜像概念类似虚拟机的镜像。是一个只读的模板，一个独立的文件系统，包括运行容器所需的数据，可以用来创建新的容器。<br />Docker利用容器来运行应用：docker容器是由docker镜像创建的运行实例。<br />Docker容器类似虚拟机，可以执行包含启动，停止，删除等。每个容器间是相互隔离的。容器中会运行特定的运用，包含特定应用的代码及所需的依赖文件。可以把容器看作一个简易版的Linux环境（包含root用户权限，进程空间，用户空间和网络空间等）和运行在其中的应用程序。<br />![](https://cdn.nlark.com/yuque/0/2023/jpeg/396745/1695000316251-503dfe4d-1880-4255-aa1d-9191521b5f74.jpeg)<br />在Docker的生命周期中，最核心的两个部分，一个是镜像 Images，一个是容器 Containers。<br />镜像运行起来就是容器。<br />容器服务运行的过程中，基于原始镜像做了改变，比如安装了程序，添加了文件，也可以提交回去 (commit)成为镜像。<br />例如：一个镜像可以包含一个完整的ubuntu操作系统环境，里面仅安装了mysql或用户需要的其他应用程序。<br />docker镜像实际上是由一层一层的系统文件组成，这种层级的文件系统被称为UnionFS( Union file system  统一文件系统)，镜像可以基于dockerfile构建，dockerfile是一个描述文件，里面包含了若干条密令，每条命令都会对基础文件系统创建新的层次结构。<br />docker提供了一个很简单的机制来创建镜像或更新现有的镜像。用户甚至可以从其他人那里下载一个已经做好的镜像直接使用。（镜像是只读的，可以理解为静态文件）<br />相对于镜像来说容器是动态的，容器在启动的时候创建了一层可写层次作为最上层。<br />`docker create <image -id >` ：为指定的镜像添加一个可读写层，构成一个新的容器；<br />docker仓库：如果使用了git和github就很容易理解docker的仓库概念。docker仓库概念和git类似。<br />docker仓库是用来包含镜像的位置，docker提供了一个注册服务器（register）来保存多个仓库，每个仓库又可以包含多个具备不同tag的镜像，<br />docker运作中使用的默认仓库是docker hub公共仓库。<br />仓库支持的操作类似git，当用户创建了自己的镜像之后就可以使用push命令将它上传到共有或者私有的仓库。这样下次再另外一台机器上使用这个镜像的时候只需要从仓库里面pull下来就可以了。
